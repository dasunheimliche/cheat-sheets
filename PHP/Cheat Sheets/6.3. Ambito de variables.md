## Ámbito de las variables

**Definición:** El ámbito de una variable es el contexto dentro del que la variable está definida. Las variables PHP tienen un ámbito simple que abarca los ficheros incluidos y requeridos.

**Ejemplo:**

```php
$a = 1;
include 'b.inc';
// $a estará disponible dentro del script incluido b.inc
```

## Variables globales

**Definición:** Las variables globales deben ser declaradas globales dentro de una función si van a ser utilizadas dentro de dicha función.

**Ejemplo:**

```php
$a = 1;
$b = 2;
function Suma() {
    global $a, $b;
    $b = $a + $b;
}
Suma();
echo $b; // Imprime 3
```

## Array $GLOBALS

**Definición:** $GLOBALS es un array asociativo que contiene todas las variables globales del script. Se puede usar para acceder a variables globales desde cualquier ámbito.

**Ejemplo:**

```php
$a = 1;
$b = 2;
function Suma() {
    $GLOBALS['b'] = $GLOBALS['a'] + $GLOBALS['b'];
}
Suma();
echo $b; // Imprime 3
```

## Variables estáticas

**Definición:** Una variable estática existe solo en el ámbito local de la función, pero no pierde su valor cuando la ejecución del programa abandona este ámbito.

**Ejemplo:**

```php
function test() {
    static $a = 0;
    echo $a;
    $a++;
}
test(); // Imprime 0
test(); // Imprime 1
```

## Referencias con variables global y static

**Definición:** Las referencias permiten que una variable apunte a la misma dirección de memoria que otra. Esto es útil para variables globales y estáticas.

**Ejemplo:**

```php
function &obtener_instancia_ref() {
    static $obj;
    echo 'Objeto estático: ';
    var_dump($obj);
    if (!isset($obj)) {
        $obj = &new stdClass;
    }
    $obj->property++;
    return $obj;
}

function &obtener_instancia_no_ref() {
    static $obj;
    echo 'Objeto estático: ';
    var_dump($obj);
    if (!isset($obj)) {
        $obj = new stdClass;
    }
    $obj->property++;
    return $obj;
}

$obj1 = obtener_instancia_ref();
$aun_obj1 = obtener_instancia_ref();
echo "\n";
$obj2 = obtener_instancia_no_ref();
$aun_obj2 = obtener_instancia_no_ref();
```
