## A - Serialización de Objetos

**Definición:** serialize() devuelve una cadena que contiene una representación en flujo de bytes de cualquier valor que se pueda almacenar en PHP. unserialize() puede usar esta cadena para recrear los valores originales de las variables.

**Ejemplo:**

```php
class A {
    public $one = 1;
    public function show_one() {
        echo $this->one;
    }
}

$a = new A;
$s = serialize($a); // Serializa el objeto $a
file_put_contents('store', $s); // Guarda la cadena serializada
```

**Descripción del ejemplo:** En este ejemplo, el objeto $a de la clase A se serializa en una cadena $s y se guarda en un archivo.

## B - Deserialización de Objetos

**Definición:** Para deserializar un objeto, la clase de ese objeto debe estar definida en el archivo donde se realiza la deserialización.

**Ejemplo:**

```php
include 'A.php'; // Incluye la definición de la clase A
$s = file_get_contents('store'); // Lee la cadena serializada
$a = unserialize($s); // Deserializa la cadena en un objeto
$a->show_one(); // Usa el método del objeto deserializado
```

**Descripción del ejemplo:** En este ejemplo, la cadena serializada se lee desde un archivo y se deserializa en un objeto $a, que luego puede usar sus métodos.

## C - Métodos **sleep() y **wakeup()

**Definición:** Los métodos **sleep() y **wakeup() permiten personalizar el proceso de serialización y deserialización de un objeto.

**Ejemplo:**

```php
class B {
    public $data;
    public function __sleep() {
        return ['data'];
    }
    public function __wakeup() {
        $this->data = 'restored';
    }
}

$b = new B;
$b->data = 'original';
$s = serialize($b); // Serializa el objeto $b
$b = unserialize($s); // Deserializa el objeto $b
echo $b->data; // Salida: restored
```

**Descripción del ejemplo:** En este ejemplo, el método **sleep() especifica que solo la propiedad data se debe serializar, y el método **wakeup() restaura el valor de data al deserializar.

## D - Serialización en Sesiones

**Definición:** Los objetos en $\_SESSION se serializan automáticamente cuando la sesión se cierra y se deserializan cuando se abre.

**Ejemplo:**

```php
session_start();
$_SESSION['obj'] = new A;
session_write_close(); // Serializa los objetos en $_SESSION

session_start();
$a = $_SESSION['obj']; // Deserializa los objetos en $_SESSION
$a->show_one(); // Usa el método del objeto deserializado
```

**Descripción del ejemplo:** En este ejemplo, el objeto $\_SESSION['obj'] se serializa automáticamente al cerrar la sesión y se deserializa al abrirla nuevamente.
