### 1. Definición de Cadenas Numéricas

**Definición:** Una cadena en PHP se considera numérica si puede interpretarse como un entero o un flotante.

### 2. Sintaxis de Cadenas Numéricas

**Formas Formales (a partir de PHP 8.0.0):**

`LNUM`: `[0-9]+`

`DNUM`: `([0-9]*[\.]{LNUM}) | ({LNUM}[\.][0-9]*)`

`EXPONENT_DNUM`: `(({LNUM} | {DNUM}) [eE][\+-]? {LNUM})`

`INT_NUM_STRING`: `{WHITESPACES} [\+-]? {LNUM} {WHITESPACES}`

`FLOAT_NUM_STRING`: `{WHITESPACES} [\+-]? ({DNUM} | {EXPONENT_DNUM}) {WHITESPACES}`

`NUM_STRING`: `({INT_NUM_STRING} | {FLOAT_NUM_STRING})`

### 3. Cadenas Numéricas Líderes

**Definición:** Una cadena que comienza como una cadena numérica seguida de cualquier carácter.

**Nota:** Cualquier cadena que contenga la letra E (insensible a mayúsculas) entre números se verá como un número en notación científica, lo que puede producir resultados inesperados.

```php
var_dump("0D1" == "000"); // false, "0D1" no es notación científica
var_dump("0E1" == "000"); // true, "0E1" es 0 * (10 ^ 1), o 0
var_dump("2E1" == "020"); // true, "2E1" es 2 * (10 ^ 1), o 20
```

### 4. Cadenas en Contextos Numéricos

**Evaluación de Cadenas:**

Si la cadena es numérica, se resuelve a un entero si cabe en los límites del tipo int, de lo contrario, se resuelve a un flotante.

Si el contexto permite cadenas numéricas líderes y la cadena es una, se resuelve a un entero si la parte líder cabe en los límites del tipo int, de lo contrario, se resuelve a un flotante.

Si la cadena no es numérica, se lanza un TypeError.

```php
$foo = 1 + "10.5"; // $foo es float (11.5)
$foo = 1 + "-1.3e3"; // $foo es float (-1299)
$foo = 1 + "bob-1.3e3"; // TypeError desde PHP 8.0.0, $foo es int (1) anteriormente
$foo = 1 + "bob3"; // TypeError desde PHP 8.0.0, $foo es int (1) anteriormente
$foo = 1 + "10 Small Pigs"; // $foo es int (11) y se lanza un E_WARNING en PHP 8.0.0, E_NOTICE anteriormente
$foo = 4 + "10.2 Little Piggies"; // $foo es float (14.2) y se lanza un E_WARNING en PHP 8.0.0, E_NOTICE anteriormente
$foo = "10.0 pigs " + 1; // $foo es float (11) y se lanza un E_WARNING en PHP 8.0.0, E_NOTICE anteriormente
$foo = "10.0 pigs " + 1.0; // $foo es float (11) y se lanza un E_WARNING en PHP 8.0.0, E_NOTICE anteriormente
```

### 5. Comportamiento Anterior a PHP 8.0.0

**Diferencias:**

Antes de PHP 8.0.0, una cadena se consideraba numérica solo si tenía espacios en blanco iniciales.

El uso de una cadena numérica líder generaba un E_NOTICE en lugar de un E_WARNING.

Si la cadena no era numérica, se generaba un E_WARNING y se devolvía el valor 0.

Antes de PHP 7.1.0, no se generaba ni E_NOTICE ni E_WARNING.
