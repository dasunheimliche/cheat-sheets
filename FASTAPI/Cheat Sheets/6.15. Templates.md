## A - Templates en FastAPI

**Definición:**  
Los templates (plantillas) son archivos que permiten generar contenido dinámico en HTML (u otros formatos) utilizando variables y lógica. En FastAPI, puedes usar cualquier motor de plantillas, pero uno común es **Jinja2**, que también es utilizado por Flask. FastAPI facilita la integración de Jinja2 a través de utilidades proporcionadas por Starlette.

**Ejemplo:**

```python
from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse
from fastapi.templating import Jinja2Templates

app = FastAPI()
templates = Jinja2Templates(directory="templates")

@app.get("/items/{id}", response_class=HTMLResponse)
async def read_item(request: Request, id: str):
    return templates.TemplateResponse(
        request=request, name="item.html", context={"id": id}
    )
```

**Descripción del ejemplo:**

1.  Se importa `Jinja2Templates` para usar plantillas.
2.  Se crea un objeto `templates` que apunta a la carpeta donde están las plantillas.
3.  En la ruta `/items/{id}`, se devuelve una respuesta HTML generada por la plantilla `item.html`, pasando el `id` como contexto.

---

## B - Instalación de dependencias

**Definición:**  
Para usar Jinja2 en FastAPI, necesitas instalar la librería `jinja2`. Esto se hace fácilmente con `pip`. Es recomendable trabajar en un entorno virtual para evitar conflictos de dependencias.

**Ejemplo:**

```bash
pip install jinja2
```

**Descripción del ejemplo:**  
Este comando instala la librería `jinja2` en tu entorno de Python, permitiéndote usar plantillas en tu aplicación FastAPI.

---

## C - Uso de `Jinja2Templates`

**Definición:**  
`Jinja2Templates` es una clase que facilita la renderización de plantillas en FastAPI. Se configura con la carpeta donde están las plantillas y se usa para generar respuestas HTML dinámicas.

**Ejemplo:**

```python
templates = Jinja2Templates(directory="templates")
```

**Descripción del ejemplo:**  
Se crea una instancia de `Jinja2Templates` que apunta a la carpeta `templates`. Esta instancia se usa para renderizar plantillas en las rutas de FastAPI.

---

## D - Contexto de plantillas

**Definición:**  
El contexto es un diccionario que se pasa a la plantilla para que pueda usar sus valores. Por ejemplo, puedes pasar variables como `id` para que la plantilla las muestre dinámicamente.

**Ejemplo:**

```python
context={"id": id}
```

**Descripción del ejemplo:**  
En este caso, el `id` se pasa a la plantilla `item.html`, donde se puede usar como `{{ id }}` para mostrar su valor.

---

## E - Uso de `url_for` en plantillas

**Definición:**  
`url_for` es una función que genera URLs dinámicas en las plantillas. Toma el nombre de la función de la ruta y sus argumentos para crear enlaces o rutas a otros recursos, como archivos estáticos.

**Ejemplo:**

```html
<a href="{{ url_for('read_item', id=id) }}">Item ID: {{ id }}</a>
```

**Descripción del ejemplo:**  
Este código genera un enlace a la ruta `/items/{id}` usando el valor de `id`. Por ejemplo, si `id` es `42`, el enlace será `/items/42`.

---

## F - Archivos estáticos

**Definición:**  
Los archivos estáticos (como CSS, JavaScript o imágenes) se sirven desde una carpeta específica. En FastAPI, puedes montar una ruta para servir estos archivos usando `StaticFiles`.

**Ejemplo:**

```python
from fastapi.staticfiles import StaticFiles

app.mount("/static", StaticFiles(directory="static"), name="static")
```

**Descripción del ejemplo:**  
Este código monta la carpeta `static` en la ruta `/static`. Los archivos en esta carpeta (por ejemplo, `styles.css`) estarán disponibles en `/static/styles.css`.

---

## G - Integración de archivos estáticos en plantillas

**Definición:**  
Puedes usar `url_for` en las plantillas para enlazar archivos estáticos, como hojas de estilo CSS. Esto permite que los archivos estáticos se sirvan correctamente.

**Ejemplo:**

```html
<link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet" />
```

**Descripción del ejemplo:**  
Este código enlaza un archivo CSS ubicado en `static/styles.css`. FastAPI sirve este archivo automáticamente en la ruta `/static/styles.css`.

---

## H - Ejemplo completo de plantilla

**Definición:**  
Una plantilla Jinja2 combina HTML con variables y lógica para generar contenido dinámico. Aquí se muestra un ejemplo completo de una plantilla que usa `id` y archivos estáticos.

**Ejemplo:**

```html
<html>
  <head>
    <title>Item Details</title>
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet" />
  </head>
  <body>
    <h1><a href="{{ url_for('read_item', id=id) }}">Item ID: {{ id }}</a></h1>
  </body>
</html>
```

**Descripción del ejemplo:**

1.  El título de la página es "Item Details".
2.  Se enlaza un archivo CSS desde la carpeta `static`.
3.  Se muestra un enlace dinámico que apunta a la ruta `/items/{id}` usando el valor de `id`.
