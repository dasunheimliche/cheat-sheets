## A - Header Parameter Models (Modelos de parámetros de cabecera)

**Definición:**  
Si tienes un grupo de **parámetros de cabecera** relacionados, puedes crear un **modelo Pydantic** para declararlos. Esto te permite reutilizar el modelo en múltiples lugares y declarar validaciones y metadatos para todos los parámetros a la vez.

**Ejemplo:**

```python
from fastapi import FastAPI, Header
from pydantic import BaseModel

app = FastAPI()

class CommonHeaders(BaseModel):
    host: str
    save_data: bool
    if_modified_since: str | None = None
    traceparent: str | None = None
    x_tag: list[str] = []

@app.get("/items/")
async def read_items(headers: CommonHeaders = Header()):
    return headers
```

**Descripción:**  
En este ejemplo, se define un modelo `CommonHeaders` que incluye varios campos de cabecera. FastAPI extraerá automáticamente estos valores de los headers de la solicitud y los validará según el modelo.

---

## B - Check the Docs (Revisar la documentación)

**Definición:**  
Puedes ver los headers requeridos en la interfaz de documentación de la API en `/docs`. Esto facilita la comprensión de los headers necesarios para cada endpoint.

**Ejemplo:**

```python
from fastapi import FastAPI, Header
from pydantic import BaseModel

app = FastAPI()

class CommonHeaders(BaseModel):
    host: str
    save_data: bool
    if_modified_since: str | None = None
    traceparent: str | None = None
    x_tag: list[str] = []

@app.get("/items/")
async def read_items(headers: CommonHeaders = Header()):
    return headers
```

**Descripción:**  
En la interfaz de documentación (`/docs`), verás los campos de headers definidos en el modelo `CommonHeaders`. Esto ayuda a los usuarios de la API a entender qué headers deben enviar.

---

## C - Forbid Extra Headers (Prohibir headers adicionales)

**Definición:**  
Puedes configurar el modelo Pydantic para prohibir headers adicionales que no estén definidos en el modelo. Esto es útil si deseas restringir los headers que tu API acepta.

**Ejemplo:**

```python
from fastapi import FastAPI, Header
from pydantic import BaseModel

app = FastAPI()

class CommonHeaders(BaseModel):
    model_config = {"extra": "forbid"}
    host: str
    save_data: bool
    if_modified_since: str | None = None
    traceparent: str | None = None
    x_tag: list[str] = []

@app.get("/items/")
async def read_items(headers: CommonHeaders = Header()):
    return headers
```

**Descripción:**  
En este ejemplo, el modelo `CommonHeaders` está configurado para prohibir headers adicionales. Si un cliente intenta enviar un header no definido en el modelo (por ejemplo, `tool`), recibirá un error indicando que el header no está permitido.

---

## D - Technical Details (Detalles técnicos)

**Definición:**  
El uso de modelos Pydantic para declarar headers es compatible con FastAPI desde la versión `0.115.0`. Esta técnica también se aplica a `Query`, `Cookie`, y `Header`.

**Ejemplo:**

```python
from fastapi import FastAPI, Header
from pydantic import BaseModel

app = FastAPI()

class CommonHeaders(BaseModel):
    host: str
    save_data: bool
    if_modified_since: str | None = None
    traceparent: str | None = None
    x_tag: list[str] = []

@app.get("/items/")
async def read_items(headers: CommonHeaders = Header()):
    return headers
```

**Descripción:**  
Aquí, `CommonHeaders` es un modelo Pydantic que define los headers esperados. FastAPI extraerá y validará estos headers automáticamente.
