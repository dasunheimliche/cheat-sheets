## A - Configuración de operaciones de ruta en FastAPI

**Definición:**  
FastAPI permite configurar las operaciones de ruta (endpoints) utilizando parámetros en el decorador de la función. Estos parámetros no se pasan a la función en sí, sino al decorador que define la ruta.

---

## B - Código de estado de respuesta

**Definición:**  
Puedes definir el código de estado HTTP que se devolverá en la respuesta de una operación de ruta. Esto es útil para indicar el resultado de la operación, como éxito (200), creación (201), o errores (404, 500).

Ejemplo:

```python
from fastapi import FastAPI, status
from pydantic import BaseModel

app = FastAPI()

class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None
    tags: set[str] = set()

@app.post("/items/", response_model=Item, status_code=status.HTTP_201_CREATED)
async def create_item(item: Item):
    return item
```

**Descripción:**

- `status_code=status.HTTP_201_CREATED` define que la respuesta tendrá un código de estado `201` (Creado).
- FastAPI proporciona constantes en `status` para evitar memorizar códigos numéricos.

---

## C - Etiquetas (Tags)

**Definición:**  
Las etiquetas (`tags`) se usan para agrupar operaciones de ruta relacionadas en la documentación automática de FastAPI (OpenAPI). Puedes pasar una lista de cadenas como parámetro `tags`.

Ejemplo:

```python
@app.post("/items/", response_model=Item, tags=["items"])
async def create_item(item: Item):
    return item

@app.get("/items/", tags=["items"])
async def read_items():
    return [{"name": "Foo", "price": 42}]

@app.get("/users/", tags=["users"])
async def read_users():
    return [{"username": "johndoe"}]
```

**Descripción:**

- Las rutas relacionadas con `items` y `users` se agrupan en la documentación.
- Esto facilita la navegación y organización de la API.

---

## D - Etiquetas con Enums

**Definición:**  
Para aplicaciones grandes, es recomendable usar `Enum` para definir etiquetas y evitar errores de escritura.

Ejemplo:

```python
from enum import Enum
from fastapi import FastAPI

app = FastAPI()

class Tags(Enum):
    items = "items"
    users = "users"

@app.get("/items/", tags=[Tags.items])
async def get_items():
    return ["Portal gun", "Plumbus"]

@app.get("/users/", tags=[Tags.users])
async def read_users():
    return ["Rick", "Morty"]
```

**Descripción:**

- `Tags` es un `Enum` que define las etiquetas disponibles.
- Esto asegura consistencia en las etiquetas usadas en toda la aplicación.

---

## E - Resumen y descripción

**Definición:**  
Puedes agregar un resumen (`summary`) y una descripción (`description`) a una operación de ruta para documentarla mejor. Estos detalles se muestran en la documentación automática.

Ejemplo:

```python
@app.post(
    "/items/",
    response_model=Item,
    summary="Create an item",
    description="Create an item with all the information: name, description, price, tax, and tags."
)
async def create_item(item: Item):
    return item
```

**Descripción:**

- `summary` es una breve descripción de la operación.
- `description` proporciona detalles más extensos.

---

## F - Descripción desde el docstring

**Definición:**  
Puedes escribir la descripción de la operación de ruta directamente en el docstring de la función. FastAPI interpretará el docstring y lo mostrará en la documentación, soportando incluso Markdown.

Ejemplo:

```python
@app.post("/items/", response_model=Item, summary="Create an item")
async def create_item(item: Item):
    """
    Create an item with all the information:
    - **name**: each item must have a name
    - **description**: a long description
    - **price**: required
    - **tax**: if the item doesn't have tax, you can omit this
    - **tags**: a set of unique tag strings for this item
    """
    return item
```

**Descripción:**

- El docstring se usa como descripción de la operación.
- Se soporta Markdown para formatear el texto.

---

## G - Descripción de la respuesta

**Definición:**  
Puedes especificar una descripción para la respuesta usando el parámetro `response_description`. Esto es útil para documentar el formato o el contenido de la respuesta.

Ejemplo:

```python
@app.post(
    "/items/",
    response_model=Item,
    summary="Create an item",
    response_description="The created item"
)
async def create_item(item: Item):
    return item
```

**Descripción:**

- `response_description` describe el contenido de la respuesta.
- Si no se proporciona, FastAPI genera una descripción automática como "Successful response".

---

## H - Marcar una operación como obsoleta

**Definición:**  
Puedes marcar una operación de ruta como obsoleta (`deprecated`) sin eliminarla. Esto es útil para indicar que la operación ya no se recomienda pero aún está disponible.

Ejemplo:

```python
@app.get("/elements/", tags=["items"], deprecated=True)
async def read_elements():
    return [{"item_id": "Foo"}]
```

**Descripción:**

- `deprecated=True` marca la operación como obsoleta en la documentación.
- Esto alerta a los usuarios de que la operación puede ser eliminada en el futuro.
