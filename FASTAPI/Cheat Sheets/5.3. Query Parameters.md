## A - Query Parameters

**Definición:**  
Los query parameters son parámetros que se envían en la URL después del símbolo `?`. Se usan para filtrar, paginar o personalizar la respuesta de una API. No forman parte de la ruta (path) y son opcionales por defecto. FastAPI los interpreta automáticamente si no son parte de los parámetros de la ruta.

**Ejemplo:**

```python
from fastapi import FastAPI

app = FastAPI()

fake_items_db = [{"item_name": "Foo"}, {"item_name": "Bar"}, {"item_name": "Baz"}]

@app.get("/items/")
async def read_item(skip: int = 0, limit: int = 10):
    return fake_items_db[skip : skip + limit]
```

**Descripción del ejemplo:**

- La URL `http://127.0.0.1:8000/items/?skip=0&limit=10` tiene dos query parameters: `skip` y `limit`.
- `skip=0` indica que se salte 0 elementos, y `limit=10` limita la respuesta a 10 elementos.
- FastAPI convierte automáticamente los valores de los query parameters al tipo especificado (en este caso, `int`).

---

## B - Default Values (Valores por Defecto)

**Definición:**  
Los query parameters pueden tener valores por defecto. Si no se proporcionan en la URL, FastAPI usará estos valores predeterminados.

**Ejemplo:**

```python
@app.get("/items/")
async def read_item(skip: int = 0, limit: int = 10):
    return fake_items_db[skip : skip + limit]
```

**Descripción del ejemplo:**

- Si accedes a `http://127.0.0.1:8000/items/`, FastAPI usará `skip=0` y `limit=10` por defecto.
- Si accedes a `http://127.0.0.1:8000/items/?skip=20`, FastAPI usará `skip=20` y `limit=10` (el valor por defecto).

---

## C - Optional Parameters (Parámetros Opcionales)

**Definición:**  
Puedes hacer que un query parameter sea opcional asignándole un valor por defecto de `None`. Esto significa que el parámetro no es obligatorio.

**Ejemplo:**

```python
@app.get("/items/{item_id}")
async def read_item(item_id: str, q: str | None = None):
    if q:
        return {"item_id": item_id, "q": q}
    return {"item_id": item_id}
```

**Descripción del ejemplo:**

- El parámetro `q` es opcional. Si no se proporciona en la URL, su valor será `None`.
- Por ejemplo, `http://127.0.0.1:8000/items/foo` no incluye `q`, mientras que `http://127.0.0.1:8000/items/foo?q=bar` sí lo incluye.

---

## D - Query Parameter Type Conversion (Conversión de Tipos)

**Definición:**  
FastAPI convierte automáticamente los query parameters al tipo de dato especificado en la función (por ejemplo, `int`, `bool`, etc.). Esto incluye validación y documentación automática.

**Ejemplo:**

```python
@app.get("/items/{item_id}")
async def read_item(item_id: str, short: bool = False):
    item = {"item_id": item_id}
    if not short:
        item.update({"description": "This is an amazing item that has a long description"})
    return item
```

**Descripción del ejemplo:**

- El parámetro `short` es de tipo `bool`. FastAPI convierte automáticamente valores como `true`, `1`, `yes`, etc., a `True`.
- Por ejemplo, `http://127.0.0.1:8000/items/foo?short=true` establecerá `short=True`.

---

## E - Multiple Path and Query Parameters (Múltiples Parámetros)

**Definición:**  
Puedes combinar parámetros de ruta (path parameters) y query parameters en una misma función. FastAPI los distingue automáticamente por su nombre.

**Ejemplo:**

```python
@app.get("/users/{user_id}/items/{item_id}")
async def read_user_item(user_id: int, item_id: str, q: str | None = None, short: bool = False):
    item = {"item_id": item_id, "owner_id": user_id}
    if q:
        item.update({"q": q})
    if not short:
        item.update({"description": "This is an amazing item that has a long description"})
    return item
```

**Descripción del ejemplo:**

- La URL `http://127.0.0.1:8000/users/42/items/foo?q=bar&short=true` incluye:

  - Path parameters: `user_id=42` y `item_id=foo`.
  - Query parameters: `q=bar` y `short=True`.

---

## F - Required Query Parameters (Parámetros Obligatorios)

**Definición:**  
Si no asignas un valor por defecto a un query parameter, FastAPI lo considerará obligatorio. Si no se proporciona, devolverá un error.

**Ejemplo:**

```python
@app.get("/items/{item_id}")
async def read_user_item(item_id: str, needy: str):
    item = {"item_id": item_id, "needy": needy}
    return item
```

**Descripción del ejemplo:**

- El parámetro `needy` es obligatorio. Si no se incluye en la URL, FastAPI devolverá un error.
- Por ejemplo, `http://127.0.0.1:8000/items/foo?needy=sooooneedy` funcionará, pero `http://127.0.0.1:8000/items/foo` devolverá un error.

---

## G - Mixing Required, Default, and Optional Parameters (Combinación de Parámetros)

**Definición:**  
Puedes combinar parámetros obligatorios, con valores por defecto y opcionales en una misma función.

**Ejemplo:**

```python
@app.get("/items/{item_id}")
async def read_user_item(item_id: str, needy: str, skip: int = 0, limit: int | None = None):
    item = {"item_id": item_id, "needy": needy, "skip": skip, "limit": limit}
    return item
```

**Descripción del ejemplo:**

- `needy` es obligatorio.
- `skip` tiene un valor por defecto de `0`.
- `limit` es opcional y su valor por defecto es `None`.
