## A - Dependency Injection

**Definición:** Es un patrón de diseño en programación que permite que tu código declare las cosas que necesita para funcionar (dependencias), y el sistema (FastAPI) se encarga de proporcionarlas.

**Ejemplo:**

```python
from typing import Annotated
from fastapi import Depends, FastAPI

app = FastAPI()

async def common_parameters(q: str | None = None, skip: int = 0, limit: int = 100):
    return {"q": q, "skip": skip, "limit": limit}

@app.get("/items/")
async def read_items(commons: Annotated[dict, Depends(common_parameters)]):
    return commons

@app.get("/users/")
async def read_users(commons: Annotated[dict, Depends(common_parameters)]):
    return commons
```

## B - Crear una Dependencia

**Definición:** Una dependencia es una función que puede tomar los mismos parámetros que una función de operación de ruta y devolver cualquier cosa que necesites.

**Ejemplo:**

```python
async def common_parameters(q: str | None = None, skip: int = 0, limit: int = 100):
    return {"q": q, "skip": skip, "limit": limit}
```

## C - Usar Depends

**Definición:** Se utiliza para declarar una dependencia en los parámetros de una función de operación de ruta.

**Ejemplo:**

```python
@app.get("/items/")
async def read_items(commons: Annotated[dict, Depends(common_parameters)]):
    return commons
```

## D - Alias de Tipo

**Definición:** Puedes almacenar el valor de Annotated en una variable y usarlo en múltiples lugares para evitar la duplicación de código.

**Ejemplo:**

```python
CommonsDep = Annotated[dict, Depends(common_parameters)]

@app.get("/items/")
async def read_items(commons: CommonsDep):
    return commons

@app.get("/users/")
async def read_users(commons: CommonsDep):
    return commons
```

## E - Asincronía en Dependencias

**Definición:** Las dependencias pueden ser funciones async def o def, y FastAPI se encargará de llamarlas correctamente.

**Ejemplo:**

```python
async def common_parameters(q: str | None = None, skip: int = 0, limit: int = 100):
    return {"q": q, "skip": skip, "limit": limit}
```

## F - Integración con OpenAPI

**Definición:** Todas las declaraciones de solicitudes, validaciones y requisitos de tus dependencias se integrarán en el mismo esquema OpenAPI.

**Ejemplo:**

```python
@app.get("/items/")
async def read_items(commons: Annotated[dict, Depends(common_parameters)]):
    return commons
```
