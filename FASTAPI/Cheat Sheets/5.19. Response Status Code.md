## A - Código de Estado HTTP (HTTP Status Code)

**Definición:**  
El código de estado HTTP es un número de 3 dígitos que se envía en la respuesta de una solicitud HTTP. Indica el resultado de la solicitud, como éxito, error o redirección. En FastAPI, puedes especificar el código de estado usando el parámetro `status_code` en los decoradores de operaciones de ruta (`@app.get`, `@app.post`, etc.).

**Ejemplo:**

```python
from fastapi import FastAPI

app = FastAPI()

@app.post("/items/", status_code=201)
async def create_item(name: str):
    return {"name": name}
```

**Descripción del ejemplo:**

- La ruta `POST /items/` devuelve un código de estado `201` (Created) cuando se crea un nuevo ítem.
- El código de estado se especifica en el decorador `@app.post`.

---

## B - Códigos de Estado Comunes

**Definición:**  
Los códigos de estado HTTP se dividen en categorías:

1.  **100-199:** Respuestas informativas (rara vez se usan directamente).
2.  **200-299:** Respuestas exitosas.

    - `200 OK`: La solicitud fue exitosa.
    - `201 Created`: Un recurso fue creado exitosamente.
    - `204 No Content`: La solicitud fue exitosa, pero no hay contenido para devolver.

3.  **300-399:** Redirecciones.

    - `304 Not Modified`: Indica que el recurso no ha sido modificado.

4.  **400-499:** Errores del cliente.

    - `400 Bad Request`: La solicitud es inválida.
    - `404 Not Found`: El recurso solicitado no existe.

5.  **500-599:** Errores del servidor.

    - `500 Internal Server Error`: Error genérico del servidor.

**Ejemplo:**

```python
from fastapi import FastAPI, status

app = FastAPI()

@app.get("/items/{item_id}", status_code=status.HTTP_200_OK)
async def read_item(item_id: int):
    return {"item_id": item_id}

@app.post("/items/", status_code=status.HTTP_201_CREATED)
async def create_item(name: str):
    return {"name": name}

@app.delete("/items/{item_id}", status_code=status.HTTP_204_NO_CONTENT)
async def delete_item(item_id: int):
    return
```

**Descripción del ejemplo:**

- `status.HTTP_200_OK`: Indica que la solicitud fue exitosa.
- `status.HTTP_201_CREATED`: Indica que un recurso fue creado.
- `status.HTTP_204_NO_CONTENT`: Indica que la solicitud fue exitosa, pero no hay contenido para devolver.

---

## C - Uso de `fastapi.status`

**Definición:**  
FastAPI proporciona una conveniencia llamada `fastapi.status` que contiene constantes para los códigos de estado HTTP más comunes. Esto facilita el uso de códigos de estado sin necesidad de memorizar los números.

**Ejemplo:**

```python
from fastapi import FastAPI, status

app = FastAPI()

@app.post("/items/", status_code=status.HTTP_201_CREATED)
async def create_item(name: str):
    return {"name": name}
```

**Descripción del ejemplo:**

- `status.HTTP_201_CREATED` es equivalente a `201`, pero es más legible y fácil de recordar.
- Puedes usar el autocompletado de tu editor para encontrar los códigos de estado.

---

## D - Códigos de Estado sin Cuerpo (No Content)

**Definición:**  
Algunos códigos de estado, como `204 No Content`, no deben incluir un cuerpo en la respuesta. FastAPI lo sabe y ajusta la documentación de OpenAPI para reflejar esto.

**Ejemplo:**

```python
from fastapi import FastAPI, status

app = FastAPI()

@app.delete("/items/{item_id}", status_code=status.HTTP_204_NO_CONTENT)
async def delete_item(item_id: int):
    return
```

**Descripción del ejemplo:**

- La ruta `DELETE /items/{item_id}` devuelve un código de estado `204` sin cuerpo.
- FastAPI documenta automáticamente que no hay cuerpo en la respuesta.

---

## E - Errores del Cliente y del Servidor

**Definición:**

- **Errores del cliente (400-499):** Indican que la solicitud es inválida o no se puede procesar debido a un error del cliente.
- **Errores del servidor (500-599):** Indican que el servidor encontró un error al procesar la solicitud.

**Ejemplo:**

```python
from fastapi import FastAPI, HTTPException, status

app = FastAPI()

@app.get("/items/{item_id}")
async def read_item(item_id: int):
    if item_id == 0:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail="Item not found")
    return {"item_id": item_id}
```

**Descripción del ejemplo:**

- Si el `item_id` es `0`, se lanza una excepción `HTTPException` con un código de estado `404 Not Found`.
- Esto indica que el recurso solicitado no existe.

---

## F - Documentación en OpenAPI

**Definición:**  
FastAPI documenta automáticamente los códigos de estado en la interfaz de OpenAPI (Swagger UI). Esto ayuda a los desarrolladores a entender qué códigos de estado pueden esperar para cada ruta.

**Ejemplo:**

```python
from fastapi import FastAPI, status

app = FastAPI()

@app.post("/items/", status_code=status.HTTP_201_CREATED)
async def create_item(name: str):
    return {"name": name}
```

**Descripción del ejemplo:**

- En la documentación de OpenAPI, la ruta `POST /items/` mostrará que devuelve un código de estado `201 Created`.
