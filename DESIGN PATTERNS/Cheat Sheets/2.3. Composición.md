# Â¿QuÃ© es la ComposiciÃ³n en ProgramaciÃ³n Orientada a Objetos?

La composiciÃ³n es como un cuerpo humano y sus Ã³rganos - los Ã³rganos son parte esencial del cuerpo y no pueden existir fuera de Ã©l. En programaciÃ³n, es la relaciÃ³n mÃ¡s fuerte donde una clase (el todo) se compone de otras clases (las partes) que no pueden existir sin su contenedor.

# Ejemplo PrÃ¡ctico: Universidad y Departamentos

1.  **CaracterÃ­sticas Principales**

    - Es la relaciÃ³n "todo-parte" mÃ¡s fuerte
    - Las partes NO pueden existir sin el todo
    - Las partes pertenecen solo a un contenedor
    - Si el contenedor se destruye, las partes tambiÃ©n

2.  **Diferencia con la AgregaciÃ³n**

    - En agregaciÃ³n: las partes pueden existir independientemente
    - En composiciÃ³n: las partes dependen totalmente del todo
    - En agregaciÃ³n: una parte puede estar en varios todos
    - En composiciÃ³n: una parte pertenece a un Ãºnico todo

```java
// âŒ MALA IMPLEMENTACIÃ“N
// No respeta el principio de composiciÃ³n
public class Universidad {
    private List<Departamento> departamentos;

    public void aÃ±adirDepartamento(Departamento departamento) {  // ğŸ‘ˆ Los departamentos se crean fuera
        departamentos.add(departamento);
    }
}

// âœ… BUENA IMPLEMENTACIÃ“N
// ComposiciÃ³n verdadera
public class Universidad {
    private final List<Departamento> departamentos;

    public Universidad() {
        this.departamentos = new ArrayList<>();
    }

    public Departamento crearDepartamento(String nombre) {  // ğŸ‘ˆ Los departamentos se crean dentro
        Departamento departamento = new Departamento(nombre, this);  // ğŸ‘ˆ La universidad controla el ciclo de vida
        departamentos.add(departamento);
        return departamento;
    }
}

public class Departamento {
    private final String nombre;
    private final Universidad universidad;  // ğŸ‘ˆ Referencia al contenedor

    Departamento(String nombre, Universidad universidad) {  // ğŸ‘ˆ Constructor package-private
        this.nombre = nombre;
        this.universidad = universidad;
    }
}
```

# La Clave ğŸ”‘

Lo mÃ¡s importante que debes entender es que:

- La composiciÃ³n es la relaciÃ³n mÃ¡s fuerte entre clases
- Las partes no pueden existir sin su contenedor
- El contenedor es responsable de crear y destruir las partes
- Una parte solo puede pertenecer a un contenedor a la vez

# Ejemplo del Mundo Real ğŸŒ

Piensa en un coche:

- El motor es parte del coche y no puede existir independientemente
- Si el coche se destruye, el motor tambiÃ©n
- El motor no puede pertenecer a dos coches a la vez
- El coche es responsable de la creaciÃ³n y destrucciÃ³n del motor

Esta es la esencia de la composiciÃ³n: una relaciÃ³n donde las partes son completamente dependientes del todo y su ciclo de vida estÃ¡ ligado al del contenedor.

# Nota Importante ğŸ“

Mucha gente usa el tÃ©rmino "composiciÃ³n" de forma mÃ¡s general, especialmente en el principio de diseÃ±o "prefiere composiciÃ³n sobre herencia". En estos casos, suelen referirse tanto a la agregaciÃ³n como a la composiciÃ³n, ya que ambas son formas de componer objetos.
