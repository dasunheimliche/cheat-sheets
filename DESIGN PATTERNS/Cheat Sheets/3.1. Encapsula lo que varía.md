# ¬øQu√© es Encapsular lo que Var√≠a?

Imagina que est√°s construyendo una casa de Lego. En lugar de pegar todas las piezas juntas, las agrupas en secciones (como habitaciones) que puedes modificar sin afectar al resto de la casa. Eso es "encapsular lo que var√≠a": identificar las partes de tu c√≥digo que probablemente cambiar√°n y mantenerlas separadas del resto.

# Ejemplo Pr√°ctico: El C√°lculo de Impuestos

Veamos el ejemplo del texto con una tienda online:

1.  **Situaci√≥n Inicial (‚ùå No Recomendada)**

    ```java
        public double getOrderTotal() {
        double total = 0;
        // C√°lculo b√°sico
        total = precio * cantidad;

        // ¬°Mezclando el c√°lculo de impuestos aqu√≠!
        if (country.equals("US")) {
            total += total * 0.07;
        } else if (country.equals("EU")) {
            total += total * 0.20;
        }
        return total;
    }
    ```

2.  **Soluci√≥n Mejorada (‚úÖ Recomendada)**

    ```java
        // Separamos el c√°lculo de impuestos
        public class TaxCalculator {
        public double getTaxRate(String country, String state, String product) {
        // L√≥gica de impuestos aislada aqu√≠
        return taxRate;
        }
        }

        public class Order {
        private TaxCalculator taxCalculator;

            public double getOrderTotal() {
                double total = precio * cantidad;
                // Solo pedimos el impuesto, no nos preocupa c√≥mo se calcula
                total += total * taxCalculator.getTaxRate(country, state, product);
                return total;
            }

        }
    ```

# ¬øPor qu√© es Importante? ü§î

1.  **Facilita los Cambios**: Si ma√±ana cambian las tasas de impuestos, solo modificas la clase `TaxCalculator`
2.  **C√≥digo m√°s Limpio**: Cada clase tiene una √∫nica responsabilidad
3.  **Mejor Testing**: Puedes probar el c√°lculo de impuestos de forma independiente
4.  **Mantenimiento m√°s Sencillo**: Los cambios est√°n "contenidos" en su propia √°rea

# Consejo Pr√°ctico üí°

Cuando escribas c√≥digo, preg√∫ntate: "¬øQu√© parte de este c√≥digo es probable que cambie en el futuro?" Esas son las partes que deber√≠as encapsular en sus propias clases o m√©todos.
