## A - Root Route

#### 1. **Definición:**

La ruta raíz es la ruta principal de tu aplicación. Piensa en ella como la base sobre la que se construyen todas las demás rutas.

#### 2. **Características Clave:**

- **Sin path:** No tiene una dirección URL asociada.
- **Siempre activa:** Siempre se carga, sin importar la URL.
- **Contenedora:** Encierra y organiza todas las demás rutas de tu aplicación.
- **Funcionalidades completas:** Aunque no tenga path, puede tener componentes, loaders, validación de parámetros, etc., como cualquier otra ruta.

#### 3. **Ejemplo:**

```tsx
import { createRootRoute } from "@tanstack/react-router";

export const Route = createRootRoute();
```

**Explicación del ejemplo:**
Este código crea la ruta raíz usando `createRootRoute()` y la exporta como `Route`. Esta es la base para construir todas tus rutas.

#### 4. **Notas o advertencias:**

- Esencial para iniciar tu enrutador.
- Puedes usar `createRootRouteWithContext<TContext>()` para inyectar dependencias de forma segura en toda tu aplicación (más info en la sección de Contexto de TanStack Router).

---

## B - Anatomy of a Route

#### 1. **Definición:**

Todas las rutas, excepto la raíz, se crean con `createFileRoute`. Esta función te ayuda a crear rutas de forma segura, especialmente cuando usas enrutamiento basado en archivos.

#### 2. **Ejemplo:**

```tsx
import { createFileRoute } from "@tanstack/react-router";

export const Route = createFileRoute("/posts")({
  component: PostsComponent,
});
```

**Explicación del ejemplo:**
Aquí, `createFileRoute('/posts')` crea una ruta para la URL `/posts`. `PostsComponent` será el componente que se mostrará cuando se acceda a esta ruta.

#### 3. **El Argumento Path de `createFileRoute`:**

- `createFileRoute` necesita un argumento: el "path" de la ruta.
- **Automático:** ¡No te preocupes por escribirlo a mano! El plugin o CLI de TanStack Router lo gestiona automáticamente por ti. Se actualiza solo cuando creas, mueves o renombras archivos de ruta.
- **Magia TypeScript:** Este "path" es crucial para que TypeScript entienda en qué archivo estás trabajando y te ofrezca autocompletado y seguridad de tipos.

---

## C - Static Routes

#### 1. **Definición:**

Rutas estáticas son aquellas que coinciden exactamente con una URL específica. Son directas y predecibles.

#### 2. **Ejemplos:**

- `/about`
- `/settings`
- `/settings/notifications`

#### 3. **Ejemplo de Código:**

```tsx
// about.tsx
import { createFileRoute } from "@tanstack/react-router";

export const Route = createFileRoute("/about")({
  component: AboutComponent,
});

function AboutComponent() {
  return <div>About</div>;
}
```

**Explicación del ejemplo:**
Esta ruta estática `/about` mostrará el componente `AboutComponent` cuando la URL sea exactamente `/about`.

#### 4. **En resumen:**

Las rutas estáticas son sencillas: coinciden exactamente con el path y muestran el componente asociado.

---

## D - Index Routes

#### 1. **Definición:**

Las rutas índice se activan cuando se accede a la URL de su ruta padre **exactamente** y **ninguna de sus rutas hijas** coincide. Son como la página principal dentro de una sección de tu web.

#### 2. **Ejemplo:**

Imagina que tienes una sección `/posts`. La ruta índice de `/posts` se mostrará cuando vayas a `/posts` directamente, en lugar de a `/posts/algún-post`.

#### 3. **Ejemplo de Código:**

```tsx
// posts.index.tsx
import { createFileRoute } from "@tanstack/react-router";

// Ojo a la barra al final '/' para indicar ruta índice
export const Route = createFileRoute("/posts/")({
  component: PostsIndexComponent,
});

function PostsIndexComponent() {
  return <div>Please select a post!</div>;
}
```

**Explicación del ejemplo:**
Esta ruta índice para `/posts/` (fíjate en la barra final) mostrará `PostsIndexComponent` cuando la URL sea `/posts` exactamente.

#### 4. **Clave:**

La barra `/` al final del path en `createFileRoute('/posts/')` es lo que indica que es una ruta índice.

---

## E - Dynamic Route Segments

#### 1. **Definición:**

Los segmentos dinámicos en las rutas te permiten capturar partes de la URL. Empiezan con `$` seguido de un nombre (ej: `$postId`). La parte de la URL que coincida con el segmento dinámico se guarda como un "param" que puedes usar en tu aplicación.

#### 2. **Ejemplo:**

Si tienes una ruta `/posts/$postId` y la URL es `/posts/123`, `postId` será un "param" con el valor `'123'`.

#### 3. **Ejemplo de Código:**

```tsx
import { createFileRoute } from "@tanstack/react-router";

export const Route = createFileRoute("/posts/$postId")({
  // Usando params en un loader (para cargar datos)
  loader: ({ params }) => fetchPost(params.postId),
  // Usando params en un componente
  component: PostComponent,
});

function PostComponent() {
  // ¡Usando params en el componente!
  const { postId } = Route.useParams();
  return <div>Post ID: {postId}</div>;
}
```

**Explicación del ejemplo:**

- `createFileRoute('/posts/$postId')` define una ruta con un segmento dinámico `$postId`.
- En el `loader` y en el `componente`, puedes acceder al valor de `postId` a través de `params`. `Route.useParams()` es un hook para acceder a los params en componentes.

#### 4. **Importante:**

Los segmentos dinámicos funcionan en **cada** parte del path. Puedes tener rutas como `/posts/$postId/$revisionId` y capturar ambos params.

---

## F - Splat / Catch-All Routes

#### 1. **Definición:**

Una ruta "splat" o "catch-all" captura **todo** lo que queda de la URL después de su path base. Se define con un path que es solo `$`. El segmento capturado se guarda en el param `_splat`.

#### 2. **Ejemplo:**

Si tienes una ruta `/files/$` y la URL es `/files/documents/hello-world`, el param `_splat` tendrá el valor `'documents/hello-world'`.

#### 3. **Ejemplo de Params:**

```js
{
  '_splat': 'documents/hello-world'
}
```

#### 4. **Nota sobre `*`:**

En versiones anteriores de TanStack Router (v1), se usaba `*` en lugar de `_splat`. En la v2, solo se usará `_splat`.

#### 5. **¿Por qué `$`?:**

Aunque `*` es común para comodines, no funciona bien en nombres de archivos o herramientas de línea de comandos. Por eso se eligió `$`, siguiendo la práctica de otras herramientas como Remix.

---

## G - Pathless Routes

#### 1. **Definición:**

Las rutas "pathless" (sin path) se usan para agrupar rutas hijas y aplicarles lógica o componentes comunes, **sin que la ruta pathless corresponda a una parte de la URL**. Se identifican porque el nombre del archivo empieza con `_` (guion bajo).

#### 2. **Usos Comunes:**

- **Layouts:** Envolver rutas hijas con un componente de layout común.
- **Requisitos de Loader:** Asegurar que un loader se ejecute antes de cargar las rutas hijas.
- **Validación de Search Params:** Validar y proveer search params a las rutas hijas.
- **Fallbacks y Contexto:** Proveer componentes de error, elementos pending o contexto compartido a las rutas hijas.

#### 3. **Ejemplo de Estructura de Archivos:**

```
routes/
├── _pathless.tsx
├── _pathless.a.tsx
├── _pathless.b.tsx
```

En este ejemplo, `_pathless.tsx` es la ruta pathless que envuelve a `_pathless.a.tsx` y `_pathless.b.tsx`.

#### 4. **Ejemplo de Código (Layout):**

```tsx
import { Outlet, createFileRoute } from "@tanstack/react-router";

export const Route = createFileRoute("/_pathless")({
  component: LayoutComponent,
});

function LayoutComponent() {
  return (
    <div>
      <h1>Layout</h1>
      <Outlet />
    </div>
  );
}
```

**Explicación del ejemplo:**
`LayoutComponent` será un layout que envolverá a los componentes de las rutas hijas (`_pathless.a.tsx` y `_pathless.b.tsx`). `Outlet` indica dónde se renderizarán los componentes hijos.

#### 5. **Tabla de Componentes Renderizados:**

| URL Path | Componente    |
| :------- | :------------ |
| /        | `<Index>`     |
| /a       | `<Layout><A>` |
| /b       | `<Layout><B>` |

#### 6. **Importante:**

La parte del nombre del archivo después del `_` (ej: `pathless` en `_pathless.tsx`) se usa como ID de la ruta. Cada ruta necesita un ID único, especialmente para TypeScript.

---

## H - Non-Nested Routes

#### 1. **Definición:**

Las rutas "non-nested" (no anidadas) se usan para "desanidar" una ruta de sus padres y hacer que renderice su propio árbol de componentes, como si fuera una ruta de nivel superior. Se crean añadiendo `_` (guion bajo) al final del segmento del archivo padre.

#### 2. **Ejemplo de Estructura de Archivos:**

```
routes/
├── posts.tsx
├── posts.$postId.tsx
├── posts_.$postId.edit.tsx
```

#### 3. **Tabla de Componentes Renderizados:**

| URL Path        | Componente                   |
| :-------------- | :--------------------------- |
| /posts          | `<Posts>`                    |
| /posts/123      | `<Posts><Post postId="123">` |
| /posts/123/edit | `<PostEditor postId="123">`  |

#### 4. **Explicación del Ejemplo:**

- `posts.$postId.tsx` es una ruta hija normal de `posts.tsx`. Renderiza `<Posts><Post>`.
- `posts_.$postId.edit.tsx` **no comparte** el prefijo `posts` con las otras rutas debido al `_` en `posts_`. Se trata como una ruta de nivel superior y renderiza solo `<PostEditor>`.

#### 5. **En Resumen:**

Usar `_` en el nombre del archivo padre (`posts_`) "rompe" la anidación para las rutas hijas que siguen ese patrón.

---

## I - 404 / NotFoundRoutes

#### 1. **Definición:**

Las rutas 404 (Not Found) se usan para mostrar una página de "Página No Encontrada" cuando ninguna otra ruta coincide con la URL.

#### 2. **No son parte del árbol de rutas:**

No debes incluirlas dentro de tu árbol de rutas normal.

#### 3. **¿Cuándo se renderizan?**

- Cuando hay segmentos de path en la URL que no coinciden con ninguna ruta.
- Cuando no hay rutas dinámicas o splat para capturar esos segmentos extra.
- Cuando no hay ruta índice para renderizar cuando se accede a una ruta padre.
- Cuando se configura una `notFoundRoute` en el router.

#### 4. **Características Especiales:**

- **Sin path:** No tienen una URL asociada.
- **Sin id:** No tienen un identificador único.
- **Sin params de path:** No pueden parsear o validar params de path.

#### 5. **Funcionalidades que sí tienen:**

- Componentes: `component`, `pendingComponent`, `errorComponents`.
- Search Params: Pueden validar y recibir search params.
- Loaders y `beforeLoad`: Pueden tener loaders y hooks `beforeLoad`.
- Datos y Search Params de la ruta raíz: Pueden recibir datos y search params de la ruta raíz.

#### 6. **Configuración:**

La configuración de `NotFoundRoute` se explica en la guía de TanStack Router en la sección "Route Matching - Not-Found Routes".

---

## J - Pathless Route Group Directories

#### 1. **Definición:**

Los directorios de grupo de rutas pathless (sin path) son una forma de organizar tus archivos de ruta usando paréntesis `()` en el nombre del directorio. Son **puramente organizacionales** y no afectan la estructura de rutas ni el árbol de componentes.

#### 2. **Ejemplo de Estructura de Archivos:**

```
routes/
├── index.tsx
├── (app)/
│   ├── dashboard.tsx
│   ├── settings.tsx
│   ├── users.tsx
├── (auth)/
│   ├── login.tsx
│   ├── register.tsx
```

En este ejemplo, `(app)` y `(auth)` son directorios de grupo pathless.

#### 3. **Tabla de Componentes Renderizados:**

| URL Path   | Componente    |
| :--------- | :------------ |
| /          | `<Index>`     |
| /dashboard | `<Dashboard>` |
| /settings  | `<Settings>`  |
| /users     | `<Users>`     |
| /login     | `<Login>`     |
| /register  | `<Register>`  |

#### 4. **Explicación:**

Como puedes ver, los directorios `(app)` y `(auth)` solo sirven para organizar los archivos. No cambian las URLs ni la forma en que se renderizan los componentes. Son útiles para mantener tu código de rutas ordenado.
