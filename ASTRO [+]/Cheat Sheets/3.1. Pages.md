## A - Pages y el Enrutamiento Basado en Archivos üî¥

#### 1. **Introducci√≥n:**

En Astro, cada archivo que pones dentro de la carpeta `src/pages/` se convierte m√°gicamente en una p√°gina de tu sitio web, y su nombre y ubicaci√≥n determinan su URL.

#### 2. **Ejemplo:**

Imagina que la estructura de tus archivos es as√≠:

```
src/
‚îî‚îÄ‚îÄ pages/
    ‚îú‚îÄ‚îÄ index.astro         // La p√°gina de inicio
    ‚îú‚îÄ‚îÄ sobre-nosotros.astro
    ‚îî‚îÄ‚îÄ blog/
        ‚îî‚îÄ‚îÄ mi-primer-post.md
```

Esto crear√° autom√°ticamente las siguientes p√°ginas en tu sitio web:

- `https://tusitio.com/`
- `https://tusitio.com/sobre-nosotros`
- `https://tusitio.com/blog/mi-primer-post`

**Explicaci√≥n del ejemplo:**
¬øVes la magia? No tuviste que configurar nada. Astro simplemente mira tu carpeta `src/pages/`, lee los nombres de los archivos y sus carpetas, y construye las rutas (URLs) de tu sitio. `index.astro` es un nombre especial que siempre corresponde a la ra√≠z (la p√°gina principal). Es como organizar documentos en tu ordenador; la ruta de la carpeta es la direcci√≥n del archivo.

#### 3. **Desarrollo**:

Esta forma de crear rutas se llama **enrutamiento basado en archivos** (_file-based routing_). Es el coraz√≥n de c√≥mo Astro organiza tu sitio. La carpeta `src/pages/` es sagrada; es el centro de control de las URLs de tu proyecto.

Astro es muy flexible y te permite usar diferentes tipos de archivos para crear estas p√°ginas:

- `.astro` (lo m√°s com√∫n y poderoso)
- `.md` o `.mdx` (perfecto para contenido como blogs o documentaci√≥n)
- `.html` (si tienes p√°ginas HTML est√°ticas que quieres usar)
- `.js` o `.ts` (para crear _endpoints_ de API, que son URLs que devuelven datos, no una p√°gina visible).

üî¥ **Fundamental**: Este es el concepto N¬∞1 que debes entender. Sin saber c√≥mo un archivo se convierte en una p√°gina, no puedes construir un sitio en Astro. Es la regla de juego m√°s importante.

## B - Enlazando entre P√°ginas üî¥

#### 1. **Introducci√≥n:**

Para crear un enlace (link) de una p√°gina a otra, usas la etiqueta `<a>` de HTML de toda la vida, pero asegur√°ndote de que la ruta en `href` sea la URL final, no la ruta al archivo en tu proyecto.

#### 2. **Ejemplo:**

Supongamos que quieres enlazar desde tu p√°gina de inicio (`index.astro`) a tu p√°gina "Sobre Nosotros" (`sobre-nosotros.astro`).

`src/pages/index.astro`

```html
<p>
  Conoce m√°s sobre nuestra empresa.
  <!-- CORRECTO: Usas la URL que ver√° el usuario -->
  <a href="/sobre-nosotros/">Visita nuestra p√°gina "Sobre Nosotros"</a>
</p>

<!-- INCORRECTO: ¬°No hagas esto! No enlaces al archivo directamente. -->
<!-- <a href="./sobre-nosotros.astro">Esto no funcionar√° como esperas</a> -->
```

**Explicaci√≥n del ejemplo:**
La clave aqu√≠ es la barra `/` al principio de la ruta: `href="/sobre-nosotros/"`. Esto le dice al navegador: "ve a la ra√≠z del dominio y luego busca `sobre-nosotros`". Piensa en la URL que el visitante escribir√° en su navegador, no en d√≥nde guardaste el archivo. Astro se encarga de la conexi√≥n interna por ti.

#### 3. **Desarrollo**:

Este es uno de los tropiezos m√°s comunes para los principiantes. Siempre, siempre, siempre usa la **ruta relativa a la ra√≠z del dominio**. No importa si los archivos est√°n en la misma carpeta o en carpetas diferentes. Al usar `href="/ruta/a/la/pagina"`, tus enlaces siempre funcionar√°n, sin importar desde qu√© p√°gina est√©s enlazando.

üî¥ **Fundamental**: Un sitio web sin enlaces es solo un conjunto de islas desconectadas. Saber enlazar correctamente es tan b√°sico y crucial como saber escribir texto. Si no dominas esto, tu sitio no ser√° navegable.

## C - P√°ginas de Astro (`.astro`) üî¥

#### 1. **Introducci√≥n:**

Los archivos `.astro` son el tipo de p√°gina principal en Astro, permiti√©ndote mezclar HTML con JavaScript del lado del servidor y reutilizar componentes para construir tus p√°ginas de forma eficiente.

#### 2. **Ejemplo:**

Imagina que quieres evitar repetir el men√∫ de navegaci√≥n y el pie de p√°gina en cada p√°gina. Primero, creas un "molde" o `Layout`:

`src/layouts/MiLayout.astro`

```astro
---
// Este es el "molde"
---
<html lang="es">
<head>
  <title>Mi Sitio Incre√≠ble</title>
  <meta charset="utf-8" />
</head>
<body>
  <nav>
    <a href="/">Inicio</a>
    <a href="/blog/">Blog</a>
  </nav>

  <!-- Aqu√≠ se insertar√° el contenido de cada p√°gina -->
  <slot />

  <footer>
    <p>¬© 2025 Mi Empresa</p>
  </footer>
</body>
</html>
```

Y ahora, usas ese molde en tu p√°gina:

`src/pages/index.astro`

```astro
---
// Importas el molde para poder usarlo
import MiLayout from '../layouts/MiLayout.astro';
---
<!-- Envuelves tu contenido en el Layout -->
<MiLayout>
  <h1>¬°Bienvenido a mi p√°gina de inicio!</h1>
  <p>Este es el contenido √∫nico de esta p√°gina.</p>
</MiLayout>
```

**Explicaci√≥n del ejemplo:**
El archivo `MiLayout.astro` act√∫a como una plantilla. La etiqueta `<slot />` es un marcador de posici√≥n que dice: "Aqu√≠ es donde ir√° el contenido espec√≠fico de la p√°gina que use este layout". Luego, en `index.astro`, importamos ese layout y envolvemos nuestro contenido con √©l. El resultado final es una p√°gina HTML completa, con el `head`, `nav`, `footer` y tu contenido espec√≠fico, ¬°todo en su lugar!

#### 3. **Desarrollo**:

Una p√°gina `.astro` debe generar un documento HTML completo (`<!DOCTYPE html>`, `<html>`, `<head>`, `<body>`). Usar **Layouts** (como en el ejemplo) es la forma recomendada de lograrlo sin copiar y pegar el mismo c√≥digo una y otra vez. Es el principio de "No te repitas" (DRY - Don't Repeat Yourself) en acci√≥n. Los layouts son simplemente componentes de Astro que se usan para envolver a otros.

üî¥ **Fundamental**: Usar archivos `.astro` y entender c√≥mo funcionan los layouts es la forma est√°ndar y m√°s potente de construir sitios con Astro. Te da superpoderes para mantener tu c√≥digo limpio, organizado y f√°cil de mantener.

## D - P√°ginas de Markdown (`.md` y `.mdx`) üü°

#### 1. **Introducci√≥n:**

Puedes usar archivos de Markdown (`.md`) para escribir contenido de forma sencilla, y Astro los convertir√° en p√°ginas web completas aplic√°ndoles una plantilla o layout que t√∫ elijas.

#### 2. **Ejemplo:**

`src/pages/blog/mi-primer-post.md`

```markdown
---
# Esta secci√≥n se llama "frontmatter". Son metadatos para Astro.
layout: ../../layouts/MiLayout.astro
title: "Mi Primer Post"
author: "Juan Perez"
---

# ¬°Este es el t√≠tulo de mi post!

Esto es un p√°rrafo escrito en **Markdown**. Es muy f√°cil y r√°pido.

- Puedo hacer listas.
- Como esta.
```

**Explicaci√≥n del ejemplo:**
El bloque de c√≥digo entre `---` se llama **frontmatter**. Es como una nota adhesiva para Astro, d√°ndole instrucciones. Aqu√≠, la instrucci√≥n m√°s importante es `layout: ../../layouts/MiLayout.astro`. Le est√°s diciendo a Astro: "Toma todo este contenido de Markdown que escrib√≠ abajo y m√©telo dentro del `<slot />` de mi archivo `MiLayout.astro`". As√≠, tu post de blog simple obtiene autom√°ticamente toda la estructura HTML, la navegaci√≥n y el pie de p√°gina del layout.

#### 3. **Desarrollo**:

Esto es incre√≠blemente √∫til para sitios con mucho contenido, como blogs, portafolios o documentaci√≥n. Te permite a ti (o a alguien que no sepa programar) centrarte solo en escribir el contenido en un formato muy simple (Markdown), mientras que el dise√±o y la estructura se manejan por separado en el layout. Los archivos `.mdx` son una versi√≥n de Markdown con superpoderes, que te permiten usar componentes interactivos dentro de tu texto.

üü° **Importante**: Aunque podr√≠as construir todo un sitio solo con archivos `.astro`, usar Markdown para el contenido es una pr√°ctica muy com√∫n y recomendada. Hace que la gesti√≥n del contenido sea mucho m√°s sencilla y limpia.

## E - P√°gina de Error 404 Personalizada üü°

#### 1. **Introducci√≥n:**

Para reemplazar la aburrida p√°gina de error "404 Not Found" del navegador, simplemente crea un archivo llamado `404.astro` en tu carpeta `src/pages`.

#### 2. **Ejemplo:**

`src/pages/404.astro`

```astro
---
import MiLayout from '../layouts/MiLayout.astro';
---
<MiLayout>
  <div style="text-align: center; padding: 50px;">
    <h1>Ups... P√°gina no encontrada (Error 404)</h1>
    <p>Parece que te has perdido. ¬øPor qu√© no vuelves al inicio?</p>
    <a href="/">Ll√©vame a casa</a>
  </div>
</MiLayout>
```

**Explicaci√≥n del ejemplo:**
Eso es todo. Al crear este archivo, Astro generar√° una p√°gina `404.html`. La mayor√≠a de los servicios de hosting (como Netlify, Vercel, etc.) est√°n configurados para buscar autom√°ticamente un archivo con este nombre y mostrarlo cada vez que un usuario intenta acceder a una URL que no existe en tu sitio.

#### 3. **Desarrollo**:

Tener una p√°gina 404 personalizada es una se√±al de un sitio web profesional y cuidado. Mejora la experiencia del usuario, ya que en lugar de un callej√≥n sin salida, le ofreces una gu√≠a para volver a encontrar el camino. Puedes dise√±arla como cualquier otra p√°gina de Astro, usando layouts y componentes.

üü° **Importante**: No es estrictamente necesario para que el sitio funcione, pero es una pr√°ctica est√°ndar y muy recomendada para cualquier sitio que vaya a ser p√∫blico. Demuestra profesionalismo y mejora la usabilidad.

## F - P√°ginas Parciales (Partials) üîµ

#### 1. **Introducci√≥n:**

Los "Partials" son fragmentos de HTML (no p√°ginas completas) que viven en `src/pages/` para que puedan ser llamados por su URL y usados para actualizar din√°micamente una parte de tu p√°gina sin necesidad de recargarla por completo.

#### 2. **Ejemplo:**

Imagina una p√°gina con un bot√≥n. Al hacer clic, quieres que aparezca un mensaje sin recargar nada.

**Paso 1: La p√°gina principal que contiene el bot√≥n.**
`src/pages/index.astro`

```html
<html>
  <head>
    <title>Mi p√°gina interactiva</title>
    <!-- Importamos la librer√≠a htmx para la magia din√°mica -->
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  </head>
  <body>
    <h2>Haz clic para recibir un saludo:</h2>

    <!-- Este div es el objetivo. Aqu√≠ aparecer√° el mensaje. -->
    <div id="respuesta-servidor"></div>

    <button
      hx-post="/partials/saludo"
      hx-target="#respuesta-servidor"
      hx-swap="innerHTML"
    >
      Sal√∫dame
    </button>
  </body>
</html>
```

**Paso 2: El "Partial" que contiene solo el mensaje.**
`src/pages/partials/saludo.astro`

```astro
---
// ¬°La l√≠nea clave! Esto le dice a Astro: "Soy un fragmento, no una p√°gina completa".
export const partial = true;
---
<p>¬°Hola desde el servidor! Gracias por hacer clic.</p>
```

**Explicaci√≥n del ejemplo:**
El bot√≥n en `index.astro` tiene atributos especiales de `htmx`:

- `hx-post="/partials/saludo"`: "Cuando hagan clic en m√≠, haz una petici√≥n a la URL `/partials/saludo`".
- `hx-target="#respuesta-servidor"`: "Cuando recibas la respuesta, busca el elemento con el id `respuesta-servidor`".
- `hx-swap="innerHTML"`: "Reemplaza el contenido de ese elemento con lo que recibiste".

El archivo `saludo.astro` es el "partial". Gracias a `export const partial = true;`, Astro sabe que solo debe devolver el fragmento `<p>¬°Hola...!</p>` y no envolverlo en un HTML completo.

#### 3. **Desarrollo**:

Esta es una t√©cnica **avanzada**. No la necesitas para empezar. Es una alternativa a usar JavaScript m√°s complejo (frameworks como React/Vue o scripts manuales) para crear interactividad. La idea es que el servidor env√≠a peque√±os trozos de HTML ya renderizado en lugar de datos JSON que el cliente tendr√≠a que procesar. Es una filosof√≠a diferente para construir sitios din√°micos.

üîµ **Espec√≠fico**: Este es un concepto para situaciones particulares. Es genial saber que existe para cuando quieras a√±adir interactividad sin recargar la p√°gina y sin meterte en un framework de JavaScript pesado. No es algo que usar√°s en un sitio est√°tico simple.

## G - Otros Tipos de P√°ginas (HTML, JS/TS) üîµ

#### 1. **Introducci√≥n:**

Adem√°s de los archivos `.astro` y `.md`, tambi√©n puedes colocar archivos `.html` directamente en `src/pages/` para que se conviertan en p√°ginas, aunque con algunas limitaciones.

#### 2. **Ejemplo:**

Si tienes una vieja p√°gina `contacto.html` que no quieres reescribir, simplemente la colocas en `src/pages/`.

`src/pages/contacto.html`

```html
<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Contacto</title>
  </head>
  <body>
    <h1>P√°gina de Contacto</h1>
    <p>Esta es una p√°gina HTML simple.</p>
  </body>
</html>
```

Este archivo estar√° disponible en `https://tusitio.com/contacto`.

#### 3. **Desarrollo**:

Usar archivos `.html` es directo, pero tiene una gran desventaja: **pierdes la mayor√≠a de los superpoderes de Astro**. No puedes usar componentes de Astro, layouts, scripts en el frontmatter, ni ninguna de las optimizaciones de Astro. Es √∫til si est√°s migrando un sitio antiguo o si tienes una raz√≥n muy espec√≠fica para usar un archivo HTML plano.

Los archivos `.js`/`.ts` se usan para crear **endpoints de API**, que son URLs que devuelven datos (normalmente en formato JSON) en lugar de una p√°gina web visible. Esto es para casos m√°s avanzados donde tu sitio necesita cargar datos din√°micamente.

üîµ **Espec√≠fico**: Usar p√°ginas `.html` es para casos de nicho o de migraci√≥n. Es bueno saber que puedes hacerlo, pero en el 99% de los casos, querr√°s usar archivos `.astro` o `.md` para aprovechar todo el potencial de Astro.

## H - P√°gina de Error 500 Personalizada üîµ

#### 1. **Introducci√≥n:**

Para manejar errores inesperados del servidor en p√°ginas que se generan al momento (renderizado bajo demanda), puedes crear un archivo `500.astro` que mostrar√° una p√°gina de error amigable en lugar de un mensaje cr√≠ptico.

#### 2. **Ejemplo:**

`src/pages/500.astro`

````astro
---
interface Props {
  error: unknown;
}
const { error } = Astro.props;

// Para no mostrar informaci√≥n sensible, creamos un mensaje gen√©rico.
let mensajeError = "Ha ocurrido un error inesperado en el servidor.";

// Opcional: podr√≠as mostrar mensajes espec√≠ficos para errores conocidos y seguros.
if (error instanceof Error && error.message === 'Base de datos no disponible') {
  mensajeError = "Estamos teniendo problemas para conectar con nuestros servicios. Por favor, int√©ntalo de nuevo m√°s tarde.";
}
---
<h1>¬°Oh no! Algo sali√≥ mal</h1>
<p>{mensajeError}</p>
<p>Nuestro equipo ya ha sido notificado. Disculpa las molestias.</p>```
````

**Explicaci√≥n del ejemplo:**
Este archivo `500.astro` es especial. Cuando ocurre un error en el servidor mientras se genera una p√°gina, Astro autom√°ticamente renderiza esta p√°gina y le pasa un objeto `error` con los detalles del fallo. En el ejemplo, en lugar de mostrar el `error` directamente (lo cual podr√≠a revelar informaci√≥n sensible), lo inspeccionamos y mostramos un mensaje seguro y amigable al usuario.

#### 3. **Desarrollo**:

Esto solo es relevante si usas **renderizado bajo demanda** (tambi√©n conocido como SSR o Server-Side Rendering). Esto significa que la p√°gina no se construye de antemano, sino que se genera en el servidor justo cuando un usuario la solicita. Si tu sitio es 100% est√°tico (pre-renderizado), este archivo no se usar√°. Es una red de seguridad para aplicaciones web m√°s complejas y din√°micas.

üîµ **Espec√≠fico**: Solo necesitas esto si est√°s construyendo una aplicaci√≥n con renderizado en el servidor. Para un blog est√°tico, un portafolio o una p√°gina de marketing, no es necesario. Es una herramienta para desarrolladores que construyen aplicaciones m√°s robustas.
