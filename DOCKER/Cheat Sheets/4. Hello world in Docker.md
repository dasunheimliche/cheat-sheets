## A - Ejecutando Hello World en Docker

#### 1. **Definición:**

`docker run hello-world` es el comando mágico para probar si Docker está funcionando bien en tu computador. Es como el "hola mundo" de Docker. Al ejecutarlo, Docker descarga una pequeña aplicación llamada `hello-world` y la ejecuta en un contenedor.

#### 2. **Ejemplo:**

```bash
docker run hello-world
```

```text
# Unable to find image 'hello-world:latest' locally
# latest: Pulling from library/hello-world
# 0e03bdcc26d7: Pull complete
# Digest: sha256:4cf9c47f86df71d48364001ede3a4fcd85ae80ce02ebad74156906caff5378bc
# Status: Downloaded newer image for hello-world:latest

# Hello from Docker!
# This message shows that your installation appears to be working correctly.

# To generate this message, Docker took the following steps:
#  1. The Docker client contacted the Docker daemon.
#  2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
#     (amd64)
#  3. The Docker daemon created a new container from that image which runs the
#     executable that produces the output you are currently reading.
#  4. The Docker daemon streamed that output to the Docker client, which sent it
#     to your terminal.
#
# To try something more ambitious, you can run an Ubuntu container with:
#  $ docker run -it ubuntu bash
#
# Share images, automate workflows, and more with a free Docker ID:
#  https://hub.docker.com/
#
# For more examples and ideas, visit:
#  https://docs.docker.com/get-started/
```

**Explicación del ejemplo:**

Al ejecutar `docker run hello-world`, tu computador hace lo siguiente:

1.  **"¿Tengo `hello-world` aquí?"**: Docker busca si ya tiene guardada la aplicación `hello-world` en tu computador.
2.  **"¡No está! ¡A buscar en internet!"**: Como no la encuentra, Docker va a un lugar llamado Docker Hub (como una tienda de aplicaciones de Docker) y descarga `hello-world`.
3.  **"¡La tengo! ¡A ejecutarla!"**: Una vez descargada, Docker crea un "contenedor" (imagina una caja aislada) y ejecuta `hello-world` dentro.
4.  **"¡Mensaje listo!"**: `hello-world` muestra el mensaje "Hello from Docker!" en tu terminal para decirte que todo está bien.

#### 3. **Notas o advertencias:**

- La primera vez que ejecutas `docker run hello-world`, tarda un poco más porque tiene que descargar la aplicación. Las siguientes veces será más rápido.
- El mensaje `# Unable to find image...` es normal la primera vez, ¡no te preocupes!

## B - Contenedor (Container)

#### 1. **Definición:**

Un **contenedor** es como una "caja" virtual y aislada donde puedes empaquetar y ejecutar una aplicación y todo lo que necesita para funcionar (código, librerías, etc.). Piensa en él como una versión moderna y ligera de una máquina virtual.

#### 2. **Ejemplo:**

Imagina que tienes dos aplicaciones que necesitan versiones diferentes de la misma librería. En lugar de tener problemas de compatibilidad en tu computador, puedes poner cada aplicación en su propio contenedor. ¡Así cada una tiene su propio "mundo" y no se molestan entre ellas!

**Analogía con mudanzas:**

Imagina que te mudas. En lugar de llevar todos tus muebles y cosas sueltas, usas cajas (contenedores). Cada caja contiene todo lo necesario para una parte de tu vida (cocina, dormitorio, etc.) y están aisladas entre sí. Los contenedores de Docker son como esas cajas para tus aplicaciones.

#### 3. **Notas o advertencias:**

- Los contenedores son mucho más **ligeros** que las máquinas virtuales porque no necesitan un sistema operativo completo dentro. Usan el sistema operativo de tu computador de forma más eficiente.
- Puedes tener **muchos** contenedores funcionando al mismo tiempo en tu computador sin que se ponga lento.

## C - Imagen (Image)

#### 1. **Definición:**

Una **imagen** es como una "plantilla" o "molde" para crear contenedores. Es un archivo que contiene todo lo necesario para que una aplicación funcione: el código, las librerías, la configuración, etc. Piensa en una imagen como una "foto" congelada de un contenedor en un estado específico.

#### 2. **Ejemplo:**

La imagen `hello-world` que usamos antes es como una receta para crear un contenedor que muestra el mensaje "Hello from Docker!". Cuando ejecutas `docker run hello-world`, Docker usa la imagen `hello-world` como plantilla para crear y ejecutar un contenedor.

**Analogía con galletas:**

Imagina que tienes un molde para galletas (imagen). Con ese molde, puedes hacer muchas galletas iguales (contenedores). La imagen es el molde, y los contenedores son las galletas que creas con ese molde.

#### 3. **Notas o advertencias:**

- Las imágenes son **de solo lectura**. No se modifican cuando creas contenedores a partir de ellas.
- Las imágenes están organizadas en **capas**, lo que las hace muy eficientes para compartir y actualizar.

## D - Registro (Registry)

#### 1. **Definición:**

Un **registro** es como una "biblioteca" o "almacén" de imágenes de Docker. Es un lugar centralizado donde puedes subir tus propias imágenes y descargar imágenes creadas por otros. **Docker Hub** es el registro público por defecto y el más popular.

#### 2. **Ejemplo:**

Docker Hub es como la App Store o Google Play Store, pero para imágenes de Docker. Cuando ejecutaste `docker run hello-world`, Docker fue a Docker Hub a buscar y descargar la imagen `hello-world`.

**Analogía con una biblioteca:**

Imagina una biblioteca llena de libros (imágenes). Puedes buscar libros (imágenes), descargarlos a tu casa (computador) y leerlos (ejecutar contenedores). Docker Hub es esa biblioteca para imágenes de Docker.

![docker hub](https://docker-handbook.farhan.dev/hello-world-in-docker/docker-hub.png)

#### 3. **Notas o advertencias:**

- Docker Hub tiene muchas imágenes **públicas** gratuitas que puedes usar.
- También puedes crear tus propios registros **privados** para guardar imágenes que no quieres compartir públicamente.

## E - Arquitectura de Docker

#### 1. **Definición:**

Docker funciona con tres componentes principales que trabajan juntos:

1.  **Docker Daemon (dockerd):** Es el "cerebro" de Docker. Un programa que siempre está funcionando en segundo plano esperando órdenes. Se encarga de crear, ejecutar y administrar los contenedores, imágenes, etc.
2.  **Docker Client (docker):** Es la "interfaz" que usas tú para darle órdenes a Docker. Es la línea de comandos (`docker`) que escribes en la terminal.
3.  **REST API:** Es el "intermediario" que permite que el Cliente y el Daemon se comuniquen entre sí.

#### 2. **Ejemplo:**

Cuando escribes `docker run hello-world` en la terminal (Cliente), esta orden viaja a través del REST API hasta el Daemon. El Daemon recibe la orden y hace todo el trabajo: busca la imagen, crea el contenedor y lo ejecuta.

**Analogía con un restaurante:**

- **Docker Daemon:** El chef en la cocina, que prepara la comida (contenedores) y gestiona todo.
- **Docker Client:** El camarero, que toma tu orden (comandos) y te trae la comida.
- **REST API:** La ventana entre la cocina y el salón, por donde pasan las órdenes y la comida.

#### 3. **Notas o advertencias:**

- Normalmente, tú solo interactúas con el **Docker Client**. El Daemon y el REST API trabajan "detrás de las cámaras".
- Docker usa una arquitectura **cliente-servidor**. El Cliente da las órdenes y el Daemon las ejecuta.

## F - `docker run hello-world` en Detalle

#### 1. **Definición:**

Ahora que conoces los contenedores, imágenes, registros y la arquitectura de Docker, vamos a repasar paso a paso qué pasa cuando ejecutas `docker run hello-world`.

#### 2. **Ejemplo:**

Aquí tienes el diagrama que resume todo el proceso:

![docker run hello world](https://docker-handbook.farhan.dev/hello-world-in-docker/docker-run-hello-world.svg)

**Explicación del ejemplo:**

1.  **Tú escribes:** `docker run hello-world` en la terminal (Docker Client).
2.  **El Cliente habla con el Daemon:** El Docker Client le dice al Docker Daemon: "¡Ejecuta un contenedor con la imagen `hello-world`!".
3.  **¿Imagen local?**: El Daemon busca si ya tiene la imagen `hello-world` guardada en tu computador.
4.  **¡No está! A Docker Hub:** Si no la encuentra localmente, el Daemon va a Docker Hub (el registro público) a buscar la imagen `hello-world`.
5.  **Descargando imagen:** El Daemon descarga la imagen `hello-world` desde Docker Hub a tu computador.
6.  **Creando contenedor:** Una vez descargada la imagen, el Daemon usa esa imagen como plantilla para crear un nuevo contenedor.
7.  **Ejecutando contenedor:** Finalmente, el Daemon ejecuta el contenedor. La aplicación `hello-world` dentro del contenedor se ejecuta y muestra el mensaje "Hello from Docker!" en tu terminal.

#### 3. **Notas o advertencias:**

- Si vuelves a ejecutar `docker run hello-world`, Docker ya tendrá la imagen guardada localmente y se saltará los pasos 3, 4 y 5, ¡será mucho más rápido!
- El `:latest` que ves en `# Unable to find image 'hello-world:latest' locally` es una "etiqueta" que indica la versión de la imagen. Aprenderás más sobre esto después.
