## A - Template Refs

**Definición:** Atributo especial ref que permite obtener una referencia directa a un elemento del DOM o a una instancia de un componente hijo.

**Ejemplo:**

```Vue
<template>
  <input ref="myInput" />
</template>
```

(El atributo ref permite acceder al elemento input.)

## B - Accessing Refs with useTemplateRef()

**Definición:** Función que permite obtener la referencia a un elemento del DOM o componente hijo usando la Composition API.

**Ejemplo:**

```Vue
<template>
  <input ref="myInput" />
</template>

<script setup>
import { useTemplateRef, onMounted } from 'vue';
const input = useTemplateRef('myInput');

onMounted(() => {
  input.value.focus();
});
</script>
```

(La variable input contiene la referencia al elemento input.)

## C - Accessing Refs (Before 3.5)

**Definición:** Antes de Vue 3.5, las referencias solo están disponibles después de que el componente se monta.

**Ejemplo:**

```Js
import { ref, onMounted, watchEffect } from 'vue';
const input = ref(null);

onMounted(() => {
  // input.value está disponible aquí
});

watchEffect(() => {
  if (input.value) {
    input.value.focus();
  }
});
```

(Se debe verificar que input.value no sea null antes de usarlo.)

## D - Refs inside v-for (3.5+)

**Definición:** Cuando se usa ref dentro de un v-for, la referencia contendrá un array con las referencias a los elementos.

**Ejemplo:**

```Vue
<template>
  <ul>
    <li v-for="item in list" ref="items">{{ item }}</li>
  </ul>
</template>

<script setup>
import { ref, useTemplateRef, onMounted } from 'vue';
const list = ref(['A', 'B', 'C']);
const itemRefs = useTemplateRef('items');

onMounted(() => {
  console.log(itemRefs.value); // Array con referencias a los li
});
</script>
```

(La variable itemRefs contiene un array con las referencias a los elementos li.)

## E - Function Refs

**Definición:** El atributo ref puede enlazarse a una función que recibe la referencia al elemento como argumento.

**Ejemplo:**

```Vue
<template>
  <input :ref="(el) => { myInput = el; }" />
</template>

<script setup>
import { ref } from 'vue';
let myInput = null;
</script>
```

(La variable myInput contiene la referencia al elemento input.)

## F - Ref on Component

**Definición:** El atributo ref puede usarse en un componente hijo para obtener una referencia a su instancia.

**Ejemplo:**

```Vue
<template>
  <Child ref="child" />
</template>

<script setup>
import { useTemplateRef, onMounted } from 'vue';
import Child from './Child.vue';
const childRef = useTemplateRef('child');

onMounted(() => {
  // childRef.value contiene la instancia del componente Child
});
</script>
```

(La variable childRef contiene la instancia del componente Child.)

## G - Ref on Component (Before 3.5)

**Definición:** Antes de Vue 3.5, la referencia a un componente hijo era su instancia this, permitiendo acceso a sus propiedades y métodos.

Advertencia: Se debe evitar el uso excesivo de referencias a componentes para evitar acoplamiento.

## H - Ref on Component with `<script setup>`

**Definición:** Los componentes que usan `<script setup>` son privados por defecto. Se debe usar defineExpose para exponer propiedades y métodos.

**Ejemplo:**

```Vue
<!-- Child.vue -->
<script setup>
import { ref } from 'vue';
const a = 1;
const b = ref(2);
defineExpose({ a, b });
</script>
```

```Vue
<!-- Parent.vue -->
<template>
  <Child ref="child" />
</template>

<script setup>
import { useTemplateRef, onMounted } from 'vue';
import Child from './Child.vue';
const childRef = useTemplateRef('child');

onMounted(() => {
  console.log(childRef.value.a); // 1
  console.log(childRef.value.b); // 2
});
</script>
```

(El componente padre puede acceder a las propiedades expuestas por el componente hijo.)
