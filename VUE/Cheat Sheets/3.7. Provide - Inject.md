## A - Provide / Inject

**Definición:** `provide` y `inject` son un mecanismo de Vue que permite a un componente padre proveer datos a cualquier componente descendiente, sin necesidad de pasarlos a través de props en cada nivel. Imagina que es como un "servicio de datos" que un componente ofrece a toda su "familia" de componentes descendientes. Evita el "prop drilling".

**Ejemplo:**

```vue
// Componente padre (Provider): Parent.vue
<script setup>
import { provide, ref } from "vue";
const theme = ref("dark");
provide("theme", theme);
</script>
```

```vue
// Componente hijo (Injector) muy anidado: DeepChild.vue
<script setup>
import { inject } from "vue";
const theme = inject("theme");
</script>

<template>
  <p>Tema actual: {{ theme }}</p>
</template>
```

**Descripción del ejemplo:** El componente `Parent` provee un valor llamado `theme` usando `provide('theme', theme)`. El componente `DeepChild`, sin importar que tan anidado este, inyecta ese valor usando `inject('theme')`. Es como si `DeepChild` se conectara directamente al "servicio de datos" de `Parent` sin intermediarios.

## B - Prop Drilling

**Definición:** "Prop drilling" es el problema de tener que pasar props a través de múltiples niveles de componentes, cuando solo un componente muy anidado necesita el prop. Es como tener que llevar una carta a la mano de un vecino pasando por cada casa de la cuadra, en lugar de entregársela directamente.

**Ejemplo:** Ver el diagrama del documento, un componente `<DeepChild>` necesita un dato del padre, el cual debe pasar por los componentes `<Footer>` y `<SomeComponent>`, aunque ninguno de ellos use este dato.

**Descripción del ejemplo:** El diagrama muestra como un dato debe pasar por todos los componentes en el medio hasta llegar a `<DeepChild>`, lo cual es ineficiente. `Provide / inject` ayuda a saltarse esta ruta.

## C - Provide (Composición API)

**Definición:** `provide()` es una función de la API de Composición que se utiliza para proveer un valor a los componentes descendientes. Es como la acción de "abrir una conexión" para que los descendientes accedan al valor.

**Ejemplo:**

```vue
<script setup>
import { provide } from "vue";
provide("userName", "John Doe");
</script>
```

**Descripción del ejemplo:** Aquí, `provide` indica que el valor `John Doe` estará disponible para los componentes descendientes bajo la clave `userName`. Es como declarar un "recurso" y darle un nombre para que otros lo encuentren.

## D - Provide (Options API)

**Definición:** En la Options API, `provide` es una opción de configuración dentro del objeto del componente que cumple la misma función que la función `provide()` en la API de composición: proveer un valor a los componentes descendientes. Es la "lista de recursos" del componente dentro de las opciones de configuración.

**Ejemplo:**

```js
export default {
  provide: {
    userEmail: "john.doe@example.com",
  },
};
```

**Descripción del ejemplo:** El componente declara que el valor `john.doe@example.com` estará disponible para sus descendientes bajo la clave `userEmail`. Es otra manera de poner un recurso a disposición de otros componentes.

## E - Inject (Composición API)

**Definición:** `inject()` es una función de la API de Composición que se usa para inyectar un valor proporcionado por un componente ancestro. Es como la acción de "conectarse" a la conexión que otro componente abrió para tomar el valor que ofrece.

**Ejemplo:**

```vue
<script setup>
import { inject } from "vue";
const userName = inject("userName");
</script>
```

**Descripción del ejemplo:** Aquí, `inject` indica que el componente necesita un valor bajo la clave `userName`. Vue buscará en la cadena de ancestros un valor con esa clave. Es como "pedir" un recurso con un nombre específico.

## F - Inject (Options API)

**Definición:** En la Options API, `inject` es una opción de configuración que cumple la misma función que la función `inject()` en la API de composición: inyectar un valor proporcionado por un componente ancestro. Es el equivalente del `inject` de la API de composición en la Options API.

**Ejemplo:**

```js
export default {
  inject: ["userEmail"],
  created() {
    console.log(this.userEmail);
  },
};
```

**Descripción del ejemplo:** El componente declara que necesita un valor bajo la clave `userEmail`. Luego, en `created`, puede acceder a ese valor a través de `this.userEmail`. Es una forma de pedir un recurso e usarlo en la lógica del componente.

## G - Claves de Inyección (Injection Keys)

**Definición:** Las claves de inyección son los identificadores (strings o symbols) utilizados para identificar un valor específico al usar `provide` e `inject`. Son como los nombres o etiquetas que se usan para acceder a los recursos disponibles.

**Ejemplo:** En `provide('theme', theme)`, `'theme'` es la clave de inyección. En `inject('theme')`, también se usa `'theme'` como clave para acceder al valor proporcionado.

**Descripción del ejemplo:** La clave es la forma en que `provide` e `inject` se encuentran, es decir, se conectan. Las claves deben coincidir para que la conexión se establezca.

## H - Claves Symbol

**Definición:** Usar claves `Symbol` en lugar de strings como claves de inyección evita colisiones entre diferentes proveedores y consumidores de datos, especialmente en aplicaciones grandes o librerías. Es como usar nombres únicos para las conexiones en vez de usar nombres genéricos que podrían generar conflictos.

**Ejemplo:**

```js
// keys.js
export const themeKey = Symbol();
```

```vue
// Componente proveedor
<script setup>
import { provide } from "vue";
import { themeKey } from "./keys.js";
provide(themeKey, "dark");
</script>
```

```vue
// Componente consumidor
<script setup>
import { inject } from "vue";
import { themeKey } from "./keys.js";
const theme = inject(themeKey);
</script>
```

**Descripción del ejemplo:** En lugar de usar `'theme'` como string, usamos `themeKey`, que es un `Symbol` que garantiza que no habrá conflictos con otras claves que usen el string 'theme'.

## I - Valores por Defecto en Inyección

**Definición:** `inject` permite especificar un valor por defecto que se usará si un proveedor para esa clave no existe en la cadena de ancestros. Es como tener un "plan b" cuando la conexión al recurso falla: el componente usará el valor por defecto.

**Ejemplo:**

```vue
<script setup>
import { inject } from "vue";
const userName = inject("userName", "Invitado");
</script>
```

```js
export default {
  inject: {
    userEmail: {
      from: "email",
      default: "default@email.com",
    },
  },
};
```

**Descripción del ejemplo:** En el primer ejemplo, si no se provee el valor para `userName`, se usará `'Invitado'` como valor por defecto. En el segundo, si no se provee el valor de `email`, se usará el string `'default@email.com'`. Son formas de evitar errores cuando un recurso no está disponible.

## J - Reactividad en Provide / Inject

**Definición:** Se pueden proveer valores reactivos (como refs o computed properties) usando `provide`, lo que permite que los componentes injectores reaccionen a los cambios en los valores. Es como tener una conexión de datos "viva", en lugar de una simple copia, que se actualiza automáticamente cuando el proveedor cambia los valores.

**Ejemplo:** Ver ejemplo en la descripción del documento en la sección "Full provide + inject Example with Reactivity".

**Descripción del ejemplo:** El componente proveedor define una ref y provee un computed basado en esta ref. Cuando la ref cambia, el computed del proveedor se actualiza, lo que hace que el componente que inyecta este dato se actualice automáticamente.

## K - Mutaciones en Componentes Injectores

**Definición:** Es recomendable que las mutaciones a los valores reactivos proveídos se hagan en el componente proveedor, no en el inyector, a menos que sea algo diseñado a propósito. Es como la analogía del documento, los valores proveídos con `provide` no deberian ser modificados directamente por el componente que lo inyecta.

**Ejemplo:**

```vue
// Componente proveedor
<script setup>
import { provide, ref } from "vue";
const location = ref("North Pole");
function updateLocation() {
  location.value = "South Pole";
}
provide("location", { location, updateLocation });
</script>
```

```vue
// Componente inyector
<script setup>
import { inject } from "vue";
const { location, updateLocation } = inject("location");
</script>

<template>
  <button @click="updateLocation">{{ location }}</button>
</template>
```

**Descripción del ejemplo:** El componente inyector no muta directamente la ref `location`, sino que llama a la función `updateLocation` del componente proveedor. Esto mantiene la lógica y la mutación de datos en un solo lugar, haciendo el código más fácil de entender y mantener.

## L - readonly()

**Definición:** La función `readonly()` se puede usar para "congelar" un objeto reactivo, impidiendo que los componentes injectores lo modifiquen. Es como tener una copia del valor original "solo para lectura" para el componente inyector.

**Ejemplo:**

```vue
<script setup>
import { provide, ref, readonly } from "vue";
const count = ref(0);
provide("readOnlyCount", readonly(count));
</script>
```

**Descripción del ejemplo:** `readonly(count)` crea una versión de `count` que no puede ser modificada por el componente que la inyecte. Es una forma de asegurarse de que el dato solo se modifica en el componente proveedor, manteniendo la integridad de la lógica.
