## A - Suspense

**Definición:** Un componente experimental de Vue que gestiona dependencias asíncronas, mostrando un estado de carga mientras se resuelven estas dependencias. Imagina un "supervisor de cargas" que evita spinners individuales y muestra una pantalla de carga unificada.

**Ejemplo:**

```js
<Suspense>
  <Dashboard />
  <template #fallback>
    Loading...
  </template>
</Suspense>
```

**Descripción del ejemplo:** Muestra un componente `Dashboard`. Si `Dashboard` o sus componentes internos tardan en cargar, muestra "Loading..." hasta que todo esté listo.

## B - Dependencias Asíncronas

**Definición:** Componentes que necesitan cargar datos o realizar tareas antes de renderizarse completamente. Como "platos" que deben cocinarse antes de servir en un restaurante. Incluye componentes con `async setup()` o componentes declarados como asíncronos.

**Ejemplo:**

```javascript
// Componente con async setup()
export default {
  async setup() {
    const res = await fetch("/data");
    return { data: await res.json() };
  },
};
```

**Descripción del ejemplo:** `setup` espera a que se obtengan los datos antes de que el componente esté listo.

## C - async setup()

**Definición:** Un hook `setup()` que realiza operaciones asíncronas, utilizando `async` y `await`. Funciona como un chef esperando que el horno se caliente para preparar el plato. También aplica a componentes que usan `<script setup>` con `await`.

**Ejemplo:**

```js
<script setup>
  const res = await fetch('/data') const data = await res.json()
</script>
```

**Descripción del ejemplo:** La carga del componente espera a que se completen las peticiones antes de mostrar la vista.

## D - Componente Asíncrono

**Definición:** Un componente cargado de forma asíncrona por el sistema (normalmente con `import()`), que indica al <Suspense> que la resolución de ese componente está sujeta a su gestión. Son como ingredientes que el chef (componente) encarga para su preparación.

**Ejemplo:**

```javascript
const AsyncComponent = defineAsyncComponent({
  loader: () => import("./AsyncComponent.vue"),
  suspensible: false,
});
```

**Descripción del ejemplo:** `AsyncComponent` es cargado dinamicamente, e `suspensible:false` especifica que el control de la carga del componente asíncrono corre por su propia cuenta.

## E - #default Slot de Suspense

**Definición:** Slot de `Suspense` donde se inserta el componente principal o su estructura. Como el "plato principal" de un restaurante, se muestra una vez que todas las dependencias asíncronas se han resuelto.

**Ejemplo:**

```js
<Suspense>
  <MiComponentePrincipal />
</Suspense>
```

**Descripción del ejemplo:** Si `MiComponentePrincipal` contiene dependencias asincronas, entonces estas quedan supeditadas a Suspense.

## F - #fallback Slot de Suspense

**Definición:** Slot de `Suspense` donde se coloca el contenido de carga. Como un "aperitivo" o "bebida de bienvenida", se muestra mientras el plato principal está en preparación.

**Ejemplo:**

```js
  <template #fallback>
      <span>Loading...</span>
  </template>
```

**Descripción del ejemplo:** Si una dependencia de un componente del #default slot esta esperando, entonces este contenido se visualizara.

## G - Estado Pendiente (pending)

**Definición:** El estado en el que `Suspense` se encuentra mientras espera a que se resuelvan las dependencias asíncronas en el #default slot. Como la cocina durante la preparación de los platos, todavía no están listos para servir.

**Ejemplo:** No hay un ejemplo de código directo aquí, este estado es una condición interna. Se deduce del contexto.
**Descripción del ejemplo:** Durante este estado se muestra el #fallback slot.

## H - Estado Resuelto (resolved)

**Definición:** El estado de `Suspense` cuando todas las dependencias asíncronas se han resuelto y el contenido del #default slot puede mostrarse. El equivalente a servir el plato ya terminado a la mesa.

**Ejemplo:** Similar al anterior, no hay código que muestre esto, solo se deduce del contexto.
**Descripción del ejemplo:** Una vez resuelto este estado se muestra el #default slot.

## I - Evento 'pending' de Suspense

**Definición:** Evento emitido por `<Suspense>` cuando entra en estado pendiente. Es como la notificación al camarero de que el plato ya esta en la cocina preparandose.

**Ejemplo:**

```js
  <Suspense @pending="onPending">
  <!--...-->
  </Suspense>

  <script setup>
    function onPending(){
       console.log('cargando...')
    }
 </script>
```

**Descripción del ejemplo:** `onPending` es una funcion que se lanza cuando `Suspense` cambia a `pending`.

## J - Evento 'resolve' de Suspense

**Definición:** Evento emitido por `<Suspense>` cuando entra en estado resuelto. Como la notificacion al camarero que la comida esta lista para ser entregada.

**Ejemplo:**

```js
  <Suspense @resolve="onResolve">
  <!--...-->
  </Suspense>
 <script setup>
    function onResolve(){
       console.log('carga finalizada')
    }
 </script>
```

**Descripción del ejemplo:** `onResolve` es una funcion que se lanza cuando `Suspense` cambia a `resolved`.

## K - Evento 'fallback' de Suspense

**Definición:** Evento emitido por `<Suspense>` cuando se muestra el contenido del #fallback slot. Es la señal al camarero que los platos necesitan mas tiempo y por mientras deben dar el aperitivo.

**Ejemplo:**

```js
  <Suspense @fallback="onFallback">
  <!--...-->
  </Suspense>
 <script setup>
    function onFallback(){
       console.log('mostrando pantalla de carga...')
    }
 </script>
```

**Descripción del ejemplo:** `onFallback` es una funcion que se lanza cuando `Suspense` esta en el #fallback slot.

## L - Propiedad `timeout` de Suspense

**Definición:** Un tiempo máximo de espera para resolver una carga asíncrona, antes de mostrar el #fallback slot durante una actualización de contenido. Si el #default slot se retrasa demasiado al actualizar su contenido, este forzará al #fallback slot a mostrarse, una forma de avisar al cliente que el pedido se ha demorado mucho.

**Ejemplo:**

```js
  <Suspense :timeout="300">
  <!--...-->
  </Suspense>
```

**Descripción del ejemplo:** Si las dependencias de la actualizacion del #default slot se demoran más de `300ms`, este forza el renderizado del contenido del #fallback.

## M - Suspense Anidado (Nested Suspense)

**Definición:** Usar <Suspense> dentro de otro <Suspense> para gestionar cargas más complejas. Cuando un chef necesita usar una segunda cocina para hacer algunos ingredientes que irán dentro de los platos de la cocina principal. La propiedad `suspensible` controla si este anidamiento se gestiona de forma jerárquica.

**Ejemplo:**

```js
<Suspense>
  <ComponenteExterior>
    <Suspense suspensible>
      <ComponenteInterior />
    </Suspense>
  </ComponenteExterior>
</Suspense>
```

**Descripción del ejemplo:** El <Suspense> interno con `suspensible` hace que el padre `<Suspense>` se encargue de manejar el arbol completo. Si el suspensible no estuviera, ambos `<Suspense>` serían responsables de su gestion propia y por consecuencia el <Suspense> padre vería a su hijo como un componente sincrono que, mientras gestiona su propia carga, muestra el #fallback slot generando multiples ciclos de parcheo.

## N - `suspensible` Prop en el componente asincrono

**Definición:** Permite al componente asíncrono anular la gestión del `<Suspense>`, dejando la lógica del comportamiento de la carga en la gestion propia de dicho componente. Es el equivalente a un ayudante del chef que ha ganado mas experiencia y ahora es responsable de como hacer las cosas de ahora en mas.

**Ejemplo:** Ya lo has visto arriba (Ejemplo en la sección D), donde al usar `suspensible:false` el comportamiento es que la carga asincrona se gestione por la propia logica del componente y no la gestionada por un `<Suspense>`.
**Descripción del ejemplo:** Esto es lo mismo a lo explicado en la seccion "D".
