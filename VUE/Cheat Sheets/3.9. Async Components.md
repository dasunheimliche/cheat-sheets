## A - Basic Usage of Async Components

**Definición:** Un componente asíncrono es un componente que se carga de forma diferida, es decir, solo cuando es necesario. Esto ayuda a mejorar el rendimiento de la aplicación al reducir el tamaño inicial del bundle.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent } from 'vue';

const AsyncComp = defineAsyncComponent(() =>
  import('./components/MyComponent.vue')
);
```

(En este ejemplo, AsyncComp es un componente asíncrono que se carga cuando se renderiza por primera vez. La función import() devuelve una promesa que se resuelve con el componente.)

## B - Loader Function

**Definición:** La función loader es una función que se pasa a defineAsyncComponent y que devuelve una promesa. Esta promesa debe resolverse con la definición del componente.

**Ejemplo:**

```JavaScript
const AsyncComp = defineAsyncComponent(() => {
  return new Promise((resolve) => {
    // Simulación de carga del componente
    setTimeout(() => {
      resolve({
        template: '<div>Componente cargado asíncronamente</div>'
      });
    }, 1000);
  });
});
```

(En este ejemplo, la función loader simula la carga de un componente después de un segundo.)

## C - Loading and Error States

**Definición:** Los componentes asíncronos pueden mostrar un componente de carga mientras se está cargando el componente real, y un componente de error si la carga falla.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent } from 'vue';

const LoadingComponent = { template: '<div>Cargando...</div>' };
const ErrorComponent = { template: '<div>Error al cargar</div>' };

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  loadingComponent: LoadingComponent,
  errorComponent: ErrorComponent,
  delay: 200,
  timeout: 3000
});
```

(En este ejemplo, se define un componente de carga y un componente de error, que se mostrarán mientras se carga el componente asíncrono o si la carga falla.)

## D - Lazy Hydration

**Definición:** En el renderizado del lado del servidor (SSR), los componentes asíncronos pueden controlar cuándo se hidratan, es decir, cuándo se hacen interactivos en el cliente.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, hydrateOnIdle } from 'vue';

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: hydrateOnIdle()
});
```

(En este ejemplo, el componente asíncrono se hidratará cuando el navegador esté inactivo.)

## E - Hydrate on Idle

**Definición:** Es una estrategia de hidratación que utiliza requestIdleCallback para hidratar el componente cuando el navegador está inactivo.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, hydrateOnIdle } from 'vue';

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: hydrateOnIdle()
});
```

(En este ejemplo, el componente se hidratará cuando el navegador esté inactivo.)

## F - Hydrate on Visible

**Definición:** Es una estrategia de hidratación que utiliza IntersectionObserver para hidratar el componente cuando se vuelve visible en la pantalla.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, hydrateOnVisible } from 'vue';

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: hydrateOnVisible()
});
```

(En este ejemplo, el componente se hidratará cuando se vuelva visible.)

## G - Hydrate on Media Query

**Definición:** Es una estrategia de hidratación que hidrata el componente cuando se cumple una media query específica.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, hydrateOnMediaQuery } from 'vue';

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: hydrateOnMediaQuery('(max-width: 768px)')
});
```

(En este ejemplo, el componente se hidratará cuando el ancho de la pantalla sea menor o igual a 768px.)

## H - Hydrate on Interaction

**Definición:** Es una estrategia de hidratación que hidrata el componente cuando se produce un evento específico en el elemento del componente.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, hydrateOnInteraction } from 'vue';

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: hydrateOnInteraction('click')
});
```

(En este ejemplo, el componente se hidratará cuando se haga clic en él.)

## I - Custom Hydration Strategy

**Definición:** Se puede definir una estrategia de hidratación personalizada para controlar cuándo se hidrata el componente.

**Ejemplo:**

```JavaScript
import { defineAsyncComponent, type HydrationStrategy } from 'vue';

const myStrategy: HydrationStrategy = (hydrate, forEachElement) => {
  forEachElement((el) => {
    // Lógica personalizada
  });
  hydrate();
};

const AsyncComp = defineAsyncComponent({
  loader: () => import('./components/MyComponent.vue'),
  hydrate: myStrategy
});
```

(En este ejemplo, se define una estrategia de hidratación personalizada que se ejecuta antes de hidratar el componente.)

## J - Using with Suspense

**Definición:** Los componentes asíncronos se pueden usar con el componente `<Suspense>` para manejar la carga y los errores de forma más declarativa.

**Ejemplo:**

```Vue
<template>
  <Suspense>
    <template #default>
      <AsyncComp />
    </template>
    <template #fallback>
      <div>Cargando...</div>
    </template>
  </Suspense>
</template>
<script setup>
import { defineAsyncComponent } from 'vue';
const AsyncComp = defineAsyncComponent(() =>
  import('./components/MyComponent.vue')
);
</script>
```

(En este ejemplo, el componente `<Suspense>` muestra el contenido del fallback mientras se carga el componente asíncrono.)
