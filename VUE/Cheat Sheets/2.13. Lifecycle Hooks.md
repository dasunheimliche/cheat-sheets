## A - Lifecycle Hooks

**Definición:** Los Lifecycle Hooks o "ganchos del ciclo de vida" son funciones que Vue llama automáticamente en momentos específicos de la existencia de un componente. Permiten al desarrollador "engancharse" (hook) a estos puntos para realizar acciones personalizadas como configurar datos, manipular el DOM, limpiar recursos, entre otros. **Imagina que tu componente es un ser vivo, estos ganchos son las etapas de su vida; nacimiento (mounted), crecimiento (updated) o muerte (unmounted) por ejemplo.** Con los Lifecycle hooks podemos personalizar, añadir cosas o registrar eventos al nacer, al actualizarse o al morir un componente.

**Ejemplo:**

```vue
<script setup>
import { onMounted, onUnmounted } from "vue";

onMounted(() => {
  console.log("Componente montado.");
});

onUnmounted(() => {
  console.log("Componente desmontado.");
});
</script>
<template>
  <div>Componente</div>
</template>
```

**Descripción del ejemplo:** `onMounted()` ejecuta código cuando el componente se ha renderizado e insertado en el DOM. `onUnmounted()` cuando ha sido retirado de él. Estas acciones están encapsuladas, listas a usar dentro del script de forma modular, sin la necesidad de definirla de forma compleja en las diferentes capas del software.

## B - Registering Lifecycle Hooks

**Definición:** Para usar los lifecycle hooks, se debe registrar dentro de la configuración del componente, esto se hace de diferentes modos según la API: mediante el `setup()` del Composition API con funciones como `onMounted()` o `onUnmounted()` etc... ( también `defineEmits` por ejemplo) o como propiedades del objeto base, cuando usas Options Api (como `mounted`, o `unmounted`). El uso del mismo en el `<script setup>`, hará que el componente ya reconozca los métodos importados sin la necesidad de ningún registro explicito. **Piénsalo como la inscripción que se hace cuando vas a una clase, al estar dado de alta (registrar) la clase (Componente) sabrá que tienes permiso para usar los beneficios que el entorno tiene preestablecidos**. Importar y registrar los Lifecycle Hooks (`onMounted()`, o el tradicional `mounted()` por ejemplo) habilitarán en un momento dado de nuestro componente el código, mientras se usa con lógica, el scope del this con acceso a datos reactivos y propiedades.

**Ejemplo 1 (Composition API):**

```vue
<script setup>
import { onMounted } from "vue";

onMounted(() => {
  console.log("Component mounted!");
});
</script>
```

**Descripción del ejemplo 1:** Con `import { onMounted } from 'vue'` obtenemos la funcion del framework `onMounted()`, en `<script setup>` y ejecutaremos código justo después de montar el componente. El método está sincronizado en `setup()`, al estar usado dentro de una lambda o callback.

**Ejemplo 2 (Options API):**

```js
export default {
  mounted() {
    console.log("Component mounted!");
  },
};
```

**Descripción del ejemplo 2:** El ejemplo en Options API, donde las functions son propiedades y callbacks del componente bajo un mismo scope donde también están los métodos (methods), propiedades y valores reactivos (`data` ), siendo ambos accesibles mediante `this`. Nótese que `onMounted`, hace lo mismo que `mounted`, que este último era mas común usarlo, antes de que `Composition API` fuese la referencia en `vue3+`

**Importante:** Las funciones de callback dentro del LifeCycleHooks deben de ser sincronizadas con `setup()`. NO puedes poner un `setTimetout` que invoque el Hook. También ten en cuenta que las arrow function en Option Api en este contexto, darán error, por no hacer `this` el componente sino hacer el ámbito superior al contexto.

## C - Lifecycle Diagram

**Definición:** El diagrama de ciclo de vida es una representación gráfica que describe cada una de las fases por las que pasa un componente en Vue, desde su creación hasta su destrucción, donde aparecen la secuencia cronológica de los _lifecycle hooks_ disponibles y cómo interactúan entre sí. Es una guía para entender cuándo se ejecutan las acciones definidas en ellos. **Imaginalo como un cronograma, o esquema, con todos los eventos (Hook) que puede pasar en cada etapa vital del componente**. El diagrama muestra, como `onBeforeMount` ocurre antes que el template se haya rendereado por ejemplo, o como después, la aplicación llama a `onMounted`, entre muchos otros casos del LifeCycleHooks.

![lifecycle](https://vuejs.org/assets/lifecycle.MuZLBFAS.png)

**Descripción:**

El diagrama proporciona la descripción de cómo interactúa Vue internamente, las distintas propiedades, como `beforeMount` y `mounted`, y el estado entre cada etapa con los datos iniciales hasta las actualizaciones `beforeUpdate`, `updated` o la fase final cuando los componentes desaparecen `beforeUnmount`, `unmounted`. Además muestra también los momentos en los que, por ejemplo, si un componente tiene una llamada `KeepAlive`, Vue va llamar a ciertos hooks del estado y guardado (`activated, deactivated` respectivamente) entre las etapas vitales de un componente..

**Importante:** Familiarizarte con el diagrama es útil para comprender la secuencia temporal y cuándo colocar tu lógica de aplicación en función de si debes usar un hook, u otro, por ejemplo en `beforeCreate` donde ni siquiera los datos ( data(), reactive, etc..) son declarados y con sus funcionalidades propias.
